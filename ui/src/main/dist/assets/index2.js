import{j as d,o as h,k as f,d as q,J as c,s as m,v as g,ay as D,f as w,c as v,bf as M,t as y,K,z as Y,O as W,aW as Q,q as S,B as V,D as A,bg as oe,x as ee,P as ue,bh as he,bi as ce,Q as de,r as R,aI as pe,R as j,m as X,M as $,bj as fe,bk as ge,T as me,bl as p,bm as ve,bn as we,bo as N,a_ as H,bp as Ie,b8 as Ce,n as te,bq as se,br as ie,az as G,bs as ye,bt as be,bu as Re,Z as $e,al as le,V as Se,bv as Le}from"./index.js";const ke=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},Pe={},Ve={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function qe(e,t){return h(),d("svg",Ve,t[0]||(t[0]=[f("path",{d:"M12,10a1,1,0,0,0-1,1v5a1,1,0,0,0,2,0V11A1,1,0,0,0,12,10Z"},null,-1),f("rect",{x:"11",y:"7",width:"2",height:"2",rx:"0.65"},null,-1),f("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z"},null,-1)]))}const Te=ke(Pe,[["render",qe]]),E={highlight:{type:String,default:"off",validator(e){return["off","ignore-case"].indexOf(e)!==-1}}},Z={query:{type:String}},Ae=q({mixins:[],props:{text:{type:String,required:!0},...E,...Z},computed:{index(){if(this.query&&this.query.length===0)return-1;if(this.query&&this.highlight)switch(this.highlight.toLowerCase()){case"ignore-case":return this.text.toLowerCase().indexOf(this.query.toLowerCase());default:return-1}return-1},beginning(){return this.index===-1?this.text:this.text.slice(0,this.index)},highlighted(){if(!(this.index===-1||!this.query))return this.text.slice(this.index,this.index+this.query.length)},end(){if(!(this.index===-1||!this.query))return this.text.slice(this.index+this.query.length)}}}),L=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},xe={key:0,class:"highlight"},Fe={key:1};function _e(e,t,s,r,n,o){return h(),d("span",null,[f("span",null,y(e.beginning),1),e.highlighted?(h(),d("span",xe,y(e.highlighted),1)):w("",!0),e.end?(h(),d("span",Fe,y(e.end),1)):w("",!0)])}const re=L(Ae,[["render",_e],["__scopeId","data-v-76a718c2"]]),Be=q({emits:["select","deselect"],props:{activeId:{type:String,required:!0},activeIndex:{type:Number,required:!0},items:{type:Array,required:!0},value:{type:[Array,Object],default:()=>[]},textProp:{type:String,default:"_text"},single:{type:Boolean,default:!1},newLabel:{type:String,default:"new"},...E,...Z},watch:{activeIndex(e){e>-1&&this.$nextTick(()=>{const t=Array.prototype.slice.call(this.$el.querySelectorAll("li"))[e],s=this.$refs.list;N(t,s.$el)})}},methods:{isSelected(e){const t=this.value;return t&&t.length?t.some(r=>r[this.textProp]===e[this.textProp]):this.value[this.textProp]===e[this.textProp]},isActive(e){return this.activeIndex===e},getId(e){return e===this.activeIndex?this.activeId:null},select(e){this.$emit(this.isSelected(e)?"deselect":"select",e)}},components:{FeatherList:ie,FeatherListItem:se,Highlighter:re}}),De={key:0,class:"autocomplete-item-new-label"};function Me(e,t,s,r,n,o){const l=c("Highlighter"),i=c("FeatherListItem"),u=c("FeatherList");return h(),v(u,{class:"feather-autocomplete-results-list",tabindex:"-1","aria-hidden":"false",role:"listbox","aria-multiselectable":e.single?"false":"true",ref:"list"},{default:g(()=>[(h(!0),d(V,null,A(e.items,(a,I)=>(h(),d(V,{key:a[e.textProp]},[m(i,{"as-li":"",id:e.getId(I),tabindex:"-1",role:"option",class:"result-item hover","aria-selected":e.isSelected(a),highlighted:e.isActive(I),selected:e.isSelected(a),onClick:G(C=>e.select(a),["stop"])},{default:g(()=>[m(l,{highlight:e.highlight,query:e.query,text:a[e.textProp]},null,8,["highlight","query","text"]),a._new?(h(),d("span",De,y(e.newLabel),1)):w("",!0)]),_:2},1032,["id","aria-selected","highlighted","selected","onClick"]),e.items.length!==1&&a._new?(h(),d("li",{role:"presentation",key:a[e.textProp]+"hr",class:"hr"})):w("",!0)],64))),128))]),_:1},8,["aria-multiselectable"])}const Ne=L(Be,[["render",Me],["__scopeId","data-v-e827f12c"]]),Ee=q({emits:["select"],props:{activeId:{type:String,required:!0},activeRow:{type:Number,required:!0},activeCol:{type:Number,required:!0},items:{type:Array,required:!0},value:{type:[Array,Object],default:()=>[]},textProp:{type:String,default:"_text"},single:{type:Boolean,default:!1},config:{type:Array,required:!0},...E,...Z},watch:{activeRow(e){e>-1&&this.$nextTick(()=>{const t=Array.prototype.slice.call(this.$el.querySelectorAll("tr"))[e+1],s=this.$refs.grid;N(t,s)})}},computed:{cls(){return this.config.map((e,t)=>e.align&&e.align.toLowerCase()==="right"?`tr${t+1}`:e.align&&e.align.toLowerCase()==="center"?`tc${t+1}`:`tl${t+1}`)}},methods:{isSelected(e){const t=this.value;return this.value&&this.value.length?t.some(r=>r[this.textProp]===e[this.textProp]):this.value[this.textProp]===e[this.textProp]},isActive(e){return this.activeRow===e},isActiveCell(e,t){return this.activeRow===e&&this.activeCol===t},getId(e,t){return e===this.activeRow&&this.activeCol===t?this.activeId:""},select(e){this.$emit("select",e)}},components:{Highlighter:re}}),Oe={class:"feather-autocomplete-results-grid",ref:"grid"},We=["aria-multiselectable"],je={role:"row"},He=["aria-selected","onClick"],Ke=["id","aria-selected"],Ge={key:1};function Ze(e,t,s,r,n,o){const l=c("Highlighter");return h(),d("div",Oe,[f("table",{class:S(["feather-autocomplete-results-grid-container",e.cls]),tabindex:"-1","aria-hidden":"false",role:"grid","aria-multiselectable":e.single?"false":"true"},[f("thead",null,[f("tr",je,[(h(!0),d(V,null,A(e.config,i=>(h(),d("th",{key:i.title},y(i.title),1))),128))])]),f("tbody",null,[(h(!0),d(V,null,A(e.items,(i,u)=>(h(),d("tr",{role:"row",key:i[e.textProp],"aria-selected":e.isSelected(i),class:S({focus:e.isActive(u),selected:e.isSelected(i)}),onClick:G(a=>e.select(i),["stop"])},[(h(!0),d(V,null,A(e.config,(a,I)=>(h(),d("td",{key:i[e.textProp]+a.prop,id:e.getId(u,I),"aria-selected":e.isSelected(i),class:S({"focus-cell":e.isActiveCell(u,I)})},[a.prop===e.textProp?(h(),v(l,{key:0,highlight:e.highlight,query:e.query,text:i[a.prop]},null,8,["highlight","query","text"])):(h(),d("p",Ge,y(i[a.prop]),1))],10,Ke))),128))],10,He))),128))])],10,We)],512)}const ze=L(Ee,[["render",Ze],["__scopeId","data-v-4731d443"]]),Ue=q({components:{FeatherList:ie,FeatherListItem:se}});function Je(e,t,s,r,n,o){const l=c("FeatherListItem"),i=c("FeatherList");return h(),v(i,{class:"result-list"},{default:g(()=>[m(l,{"as-li":""},{default:g(()=>[K(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}const Qe=L(Ue,[["render",Je],["__scopeId","data-v-c1d1d182"]]),Xe=q({name:"Chip",emits:["delete"],props:{focused:{type:Boolean,default:!1},removeLabel:{type:String,required:!0},text:{type:String},disabled:{type:Boolean},pre:{type:Object}},computed:{showPreIcon(){return this.pre&&this.pre.icon&&this.pre.title}},methods:{handleClick(){this.$emit("delete")}},components:{FeatherIcon:ee,Cancel:$e,BaseChip:Re,BaseChipLabel:be,BaseChipPreIcon:ye}});function Ye(e,t,s,r,n,o){const l=c("FeatherIcon"),i=c("BaseChipPreIcon"),u=c("BaseChipLabel"),a=c("Cancel"),I=c("BaseChip");return h(),v(I,{class:S(["focus autocomplete-chip",{focused:e.focused}]),condensed:"",disabled:e.disabled},{default:g(()=>[e.showPreIcon?(h(),v(i,{key:0},{default:g(()=>{var C,k;return[m(l,{icon:(C=e.pre)==null?void 0:C.icon,title:(k=e.pre)==null?void 0:k.title},null,8,["icon","title"])]}),_:1})):w("",!0),m(u,null,{default:g(()=>[Y(y(e.text),1)]),_:1}),e.disabled?w("",!0):(h(),d("span",{key:1,class:"chip-delete","data-ref-id":"feather-autocomplete-chip-delete",onClick:t[0]||(t[0]=G((...C)=>e.handleClick&&e.handleClick(...C),["stop"]))},[m(l,{class:"delete-icon",flex:"",title:e.removeLabel},{default:g(()=>[m(a)]),_:1},8,["title"])]))]),_:1},8,["class","disabled"])}const et=L(Xe,[["render",Ye],["__scopeId","data-v-8d20676d"]]),tt={},st={class:"spinner-container"};function it(e,t){return h(),d("div",st,t[0]||(t[0]=[f("svg",{class:"spinner",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},[f("circle",{class:"path",fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"})],-1)]))}const lt=L(tt,[["render",it],["__scopeId","data-v-e36365f5"]]);var O=(e=>(e.multi="multi",e.single="single",e))(O||{});const ne={noResults:"No results found",minChar:"Enter ${min} characters to search",clear:"Clear value",selectionLimit:"Selection limit reached",new:"New",remove:"Remove"},rt={id:{type:String},modelValue:{type:[Array,Object]},results:{type:Array,default:()=>[]},textProp:{type:String,default:"_text"},loading:{type:Boolean,default:!1},minChar:{type:Number,default:0},allowNew:{type:Boolean,default:!1},selectionLimit:{type:Number},newMatcher:{type:Function,default:(e,t,s)=>e[s.textProp].toString().toLowerCase()===t.toLowerCase()},type:{type:String,required:!0,validator:e=>!!O[e]},labels:{type:Object,default:()=>ne},gridConfig:{type:Array},schema:{type:Object,required:!1},absolutePositioned:{type:Boolean,default:!1},...E,...de,...ce},nt={"update:modelValue":e=>!0,new:e=>!0,search:e=>!0},at=(e,t,s,r)=>{if(s.toLowerCase()===O.multi){const o=e.modelValue,l=i=>{e.selectionLimit.value&&i.length>=e.selectionLimit.value?e.selectionLimitReached.value=!0:e.selectionLimitReached.value=!1};return{getInitialText(){return""},handleModelValueChange(i){i&&i.length&&l(i)},hasValue(){return!!(o.value&&o.value.length)},selectItem(i){if(o.value&&o.value.filter(a=>a[e.textProp.value]===i[e.textProp.value]).length)return;const u=o.value?[...o.value,i]:[i];r("update:modelValue",u),l(u)},removeItem(i){const u=o.value.findIndex(a=>i[e.textProp.value]===a[e.textProp.value]);if(u>-1){const a=o.value.slice(0);a.splice(u,1),r("update:modelValue",a),l(a),e.input.value.focus()}},clickedItem(){e.query.value="",e.emitSearch()},handleInputBlur(){}}}const n=e.modelValue;return{getInitialText(){return n.value?n.value[e.textProp.value]:""},handleModelValueChange(){e.query.value=this.getInitialText()},hasValue(){return!!n.value},selectItem(o){t.active.row=-1,e.forceCloseResults.value=!0,o&&o._new&&e.allowNew?r("new",o._new):r("update:modelValue",o)},removeItem(){},clickedItem(){e.forceCloseResults.value=!0},handleInputBlur(o){const l=!!(o.relatedTarget&&o.relatedTarget.classList.contains("feather-list-item"));if(t.active.row>-1){const i=e.internalResults.value[t.active.row];i&&i._new&&e.allowNew?r("new",i._new):s==="single"&&l?o.preventDefault():r("update:modelValue",i)}}}},ot=()=>{const e=te({row:-1}),t=o=>{le(()=>{e.row=o})},s=(o,l)=>{if(o.code===p.DOWN){if(o.preventDefault(),e.row===-1)r(),t(0);else if(e.row+1<=l.length-1){const i=e.row;r(),t(i+1)}return!0}if(o.code===p.UP){if(o.preventDefault(),e.row===0)r();else if(e.row>0){const i=e.row;r(),t(i-1)}return!0}return!1},r=()=>{e.row=-1};return{reset:r,handleKeyPress:s,active:e,first:()=>{e.row=0}}},ut=e=>{const t=te({row:-1,col:-1}),s=(l,i)=>{le(()=>{t.col=i,t.row=l})},r=(l,i)=>{if(l.code===p.DOWN){if(l.preventDefault(),t.row===-1)n(),s(0,0);else if(t.row+1<=i.length-1){const u=t.row,a=t.col;n(),s(u+1,a)}return!0}if(l.code===p.UP){if(l.preventDefault(),t.row===0)n();else if(t.row>0){const u=t.row,a=t.col;n(),s(u-1,a)}return!0}if(l.code===p.RIGHT&&t.row!==-1){if(l.preventDefault(),t.col+1<=e.length-1){const u=t.col,a=t.row;n(),s(a,u+1)}else if(t.col<=e.length-1&&t.row+1<=i.length-1){const u=t.row;n(),s(u+1,0)}return!0}if(l.code===p.LEFT&&t.row!==-1){if(l.preventDefault(),t.col===0&&t.row===0)return!0;if(t.col===0&&t.row>0){const u=t.row;n(),s(u-1,e.length-1)}else if(t.col>0){const u=t.col,a=t.row;n(),s(a,u-1)}return!0}if(l.code===p.END&&t.row!==-1){l.preventDefault();const u=t.row;return n(),s(l.ctrlKey?i.length-1:u,e.length-1),!0}if(l.code===p.HOME&&t.row!==-1){l.preventDefault();const u=t.row;return n(),s(l.ctrlKey?0:u,0),!0}return!1},n=()=>{t.row=-1,t.col=-1};return{reset:n,handleKeyPress:r,active:t,first:()=>{n(),s(0,0)}}},ht=q({model:{prop:"modelValue",event:"update:modelValue"},emits:nt,props:rt,data(){return{typingTimeout:-1,activeChipIndex:-1,activeChipId:""}},computed:{singleSelect(){return this.type!==O.multi},raised(){return this.hasValue||this.hasFocus},hasValue(){var e;return(e=this.strategy)==null?void 0:e.hasValue()},showMenu(){return(this.showResults||this.showNoResults||this.showLoading||this.showSelectionLimit||this.showMinCharWarning)&&!this.disabled},showResults(){return this.forceCloseResults||this.selectionLimitReached||this.showMinCharWarning?!1:!!(this.hasFocus&&this.internalResults&&this.internalResults.length&&!this.loading)},showNoResults(){return!this.forceCloseResults&&this.hasFocus&&!this.selectionLimitReached&&this.internalResults&&this.internalResults.length===0&&this.query&&this.query.length>0&&this.query.length>=this.minChar&&!this.loading},showSelectionLimit(){return!this.forceCloseResults&&this.hasFocus&&this.selectionLimitReached&&!this.loading},showLoading(){return this.hasFocus&&this.loading},showMinCharWarning(){return this.minChar>0&&!this.selectionLimitReached&&!this.loading&&this.hasFocus&&this.query.length<this.minChar},resultItemId(){return $("result-item")},minCharWarningId(){return $("min-char-warning")},subTextId(){return $("feather-autocomplete-description")},resultsId(){return $("feather-autocomplete-input-results")},selectedDescriptionId(){return $("feather-autocomplete-input-selected")},searchIcon(){return H(Ce)},minCharIcon(){return H(Te)},dropdownIcon(){return H(Ie)},inputAttrs(){const e=[this.selectedDescriptionId,this.subTextId].filter(Boolean);let t="";return this.activeChipIndex>-1&&(t=this.activeChipId),this.active.row>-1&&this.showResults&&(t=this.resultItemId),this.minChar&&e.push(this.minCharWarningId),{id:this.inputId,"aria-describedby":e.join(" "),"aria-busy":this.loading,"aria-activedescendant":t,disabled:this.disabled,"aria-disabled":this.disabled,"aria-autocomplete":"list",autocomplete:"off",readonly:!!this.disabled,tabindex:this.disabled?-1:0,"aria-controls":this.showResults?this.resultsId:"","aria-invalid":this.$attrs["aria-invalid"]==="true"||!!this.error}},inputListeners(){return{input:this.handleTextInput,blur:this.handleInputBlur,focus:this.handleInputFocus,keydown:this.handleInputKeyDown}},comboxBoxAttrs(){return{role:"combobox","aria-expanded":this.showResults?"true":"false","aria-haspopup":this.gridConfig?"grid":"listbox","aria-owns":this.resultsId,"aria-label":this.label}},scrollContainer(){return this.$refs.scroll.$el.querySelector(".feather-input-wrapper")},computedMinCharText(){return this.minCharLabel?this.minCharLabel.replace("${min}",this.minChar.toString()):""},selectedDescribedByText(){return this.modelValue&&this.modelValue.length?this.modelValue.map(t=>t[this.textProp]).join(", "):""},allowNewEnabled(){return this.singleSelect&&this.allowNew},modelValueList(){return this.singleSelect?[]:this.modelValue}},watch:{activeChipIndex(e){e&&this.genActiveChipId(),e>-1&&this.scrollContainer&&this.$nextTick(()=>{N(this.$el.querySelector(`#${this.activeChipId}`),this.scrollContainer)})},query(e){this.inputRef&&e!==this.inputRef.value&&(this.inputRef.value=e)},modelValue:{handler(e,t){e&&t&&e.length>t.length&&this.scrollContainer&&this.$nextTick(()=>{N(this.inputRef,this.scrollContainer)}),this.strategy.handleModelValueChange(e),this.hasFocus||this.adjustTextArea()},immediate:!0},results(e){!this.singleSelect&&e&&e.length>0?this.selectFirst():this.singleSelect&&this.firstPass&&(this.firstPass=!1,this.selectFirst()),this.forceCloseResults=!1,e&&e.length===0&&this.query&&this.query.length>0&&!this.allowNewEnabled&&this.setAlert(this.noResultsLabel),this.allowNewEnabled&&this.query.length&&(e.some(s=>this.newMatcher(s,this.query,this))||(e=[{[this.textProp]:this.query,_new:this.query},...e])),this.internalResults=e},showResults(e){const t=this.$refs.menu;e&&t.calculatePosition&&t.calculatePosition()},selectionLimitReached(e){e&&this.setAlert(this.selectionLimitLabel)}},methods:{getPre(e){return e._pre},genActiveChipId(){return this.activeChipId=$("active-chip"),this.activeChipId},setAlert(e){const t=this.$refs.alert;t.textContent=e,setTimeout(()=>{t.textContent=""},100)},handleClear(){this.query="",this.inputRef.focus(),this.emitSearch(),this.$emit("update:modelValue",void 0)},handleInputFocus(){this.disabled||(this.adjustTextArea(),!this.hasFocus&&(this.hasFocus=!0,this.modelValue&&this.singleSelect&&this.inputRef.select()))},handleInputEnter(){this.handleInputFocus(),this.emitSearch()},handleTextInput(e){this.adjustTextArea();const s=e.target.value;s!==void 0&&(ve(this.typingTimeout),this.typingTimeout=we(()=>{this.query=s,this.emitSearch()},250))},handleInputKeyDown(e){const t=()=>{this.activeChipIndex=-1},s=()=>{this.resetResultIndex()};if(e.code===p.ENTER&&e.preventDefault(),this.internalResults&&this.internalResults.length&&this.handleResultNavigation(e,this.internalResults)){t(),this.forceCloseResults=!1;return}if(e.code===p.ENTER&&this.activeChipIndex>-1){e.preventDefault();const r=this.modelValue;this.removeFromValue(r[this.activeChipIndex]),t();return}if(e.code===p.ENTER&&this.active.row>-1){e.preventDefault(),this.selectItem(this.internalResults[this.active.row]);return}if((e.code===p.ENTER||e.code===p.SPACE||e.code===p.DOWN)&&this.activeChipIndex==-1&&!this.showMenu){e.preventDefault(),this.emitSearch();return}if(e.code===p.ESCAPE){this.forceCloseResults=!0,s(),t();return}if(!this.query&&this.modelValue&&this.modelValue.length){const r=this.modelValue;e.code===p.LEFT&&(e.preventDefault(),this.activeChipIndex===-1?(s(),this.activeChipIndex=r.length-1):this.activeChipIndex-1>=0&&(s(),this.activeChipIndex=this.activeChipIndex-1)),e.code===p.RIGHT&&(e.preventDefault(),this.activeChipIndex===r.length-1?(s(),this.activeChipIndex=-1):this.activeChipIndex<r.length-1&&this.activeChipIndex>-1&&(s(),this.activeChipIndex=this.activeChipIndex+1)),(e.code===p.DELETE||e.code===p.BACKSPACE)&&this.activeChipIndex!==-1&&(this.removeFromValue(r[this.activeChipIndex]),s(),t())}},handleTriggerClick(){this.disabled||(this.inputRef.focus(),this.handleDropdownIconClick())},handleInputBlur(e){this.validate(),this.strategy.handleInputBlur(e),(this.forceCloseResults||!this.showMenu)&&this.handleOutsideClick()},handleOutsideClick(){this.hasFocus=!1,this.forceCloseResults=!1,this.activeChipIndex=-1,this.resetResultIndex(),this.query=this.strategy.getInitialText(),this.internalResults=[],this.adjustTextArea()},clickedItem(e){this.selectItem(e),this.internalResults=[],this.inputRef.focus(),this.strategy.clickedItem()},selectItem(e){this.strategy.selectItem(e),this.adjustTextArea()},removeFromValue(e){this.strategy.removeItem(e)},handleDropdownIconClick(){if(this.showMenu){this.forceCloseResults=!0;return}this.forceCloseResults||this.emitSearch()},adjustTextArea(){const e=this.inputRef;e&&(e.style.height="1.625rem",e.style.flexBasis="40px",e.style.whiteSpace="nowrap",this.$nextTick(()=>{const t=e.getBoundingClientRect().width,s=e.parentElement;e.scrollWidth<=e.clientWidth&&s&&t<s.getBoundingClientRect().width?e.style.whiteSpace="nowrap":(e.style.whiteSpace="normal",e.style.flexBasis="100%"),this.$nextTick(()=>{e.style.height=`${e.scrollHeight}px`})}))}},setup(e,t){const s=R(e.absolutePositioned),r=pe(j(e,"labels"),ne);Se(e),Le(e);let n;e.gridConfig?n=ut(e.gridConfig):n=ot();const o=j(e,"id"),l=X(()=>o.value?o.value:$("feather-autocomplete-input")),{validate:i}=fe(l,j(e,"modelValue"),e.label,e.schema),{selectionLimit:u,modelValue:a,textProp:I,allowNew:C,type:k,minChar:x}=ge(e),F=R(!1),T=R(!1),_=R(!1),P=R(!0),b=R(""),B=R([]),z=R(),U=X(()=>z.value),J=()=>{F.value&&!T.value&&(b.value&&b.value.length>=x.value&&t.emit("search",b.value),x.value<=0&&t.emit("search",b.value||""),B.value=[],n.reset())},ae=at({selectionLimit:u,selectionLimitReached:T,modelValue:a,textProp:I,allowNew:C,forceCloseResults:_,query:b,internalResults:B,input:U,emitSearch:J},n,k.value,t.emit);return{...r,...me(t.attrs),query:b,absolutePositioned:s,internalResults:B,selectionLimitReached:T,forceCloseResults:_,firstPass:P,hasFocus:F,strategy:ae,emitSearch:J,active:n.active,handleResultNavigation:n.handleKeyPress,resetResultIndex:n.reset,selectFirst:n.first,inputId:l,input:z,incomingId:o,inputRef:U,validate:i}},mounted(){this.adjustTextArea()},components:{InputWrapper:he,InputSubText:ue,AutocompleteResults:Ne,AutocompleteResultsGrid:ze,Chip:et,MenuMessage:Qe,FeatherIcon:ee,FeatherMenu:oe,Spinner:lt}}),ct={class:"alert",role:"alert","aria-live":"polite","aria-atomic":"true",ref:"alert"},dt=["id"],pt={"data-ref-id":"feather-autocomplete-no-results"},ft={"data-ref-id":"feather-autocomplete-selection-limit"},gt={"data-ref-id":"feather-autocomplete-min-char"};function mt(e,t,s,r,n,o){const l=c("FeatherIcon"),i=c("Chip"),u=c("InputWrapper"),a=c("AutocompleteResults"),I=c("AutocompleteResultsGrid"),C=c("MenuMessage"),k=c("Spinner"),x=c("FeatherMenu"),F=c("InputSubText");return h(),d("div",W(e.inherittedAttrs,{class:"feather-autocomplete-container"}),[m(x,{fill:"","no-expand":"","absolute-positioned":e.absolutePositioned,open:e.showMenu,onOutsideClick:e.handleOutsideClick,onTriggerClick:e.handleTriggerClick,class:S(["feather-autocomplete-menu-container",{grid:e.gridConfig}]),"data-ref-id":"feather-autocomplete-menu-container",ref:"menu"},{trigger:g(({attrs:T,on:_})=>[m(u,W({...T,...e.comboxBoxAttrs},{for:e.inputId,raised:e.raised,focused:e.hasFocus,"clear-text":e.clearLabel,showClear:e.singleSelect&&e.hasValue,onClear:e.handleClear},Q(_),{ref:"scroll"}),{pre:g(()=>[K(e.$slots,"pre",{},()=>[m(l,{icon:e.searchIcon},null,8,["icon"])],!0)]),post:g(()=>[m(l,{icon:e.dropdownIcon,class:S(["feather-autocomplete-dropdown-icon",{rotate:e.showMenu}]),onClick:e.handleDropdownIconClick},null,8,["icon","class","onClick"])]),default:g(()=>[f("div",{class:S(["feather-autocomplete-content",{disabled:e.disabled}])},[f("div",ct,null,512),f("div",{class:"description",id:e.selectedDescriptionId,"data-ref-id":"feather-autocomplete-input-selected"},y(e.selectedDescribedByText),9,dt),(h(!0),d(V,null,A(e.modelValueList,(P,b)=>D((h(),v(i,{key:P[e.textProp],role:"button",id:b===e.activeChipIndex?e.activeChipId:null,focused:b===e.activeChipIndex,disabled:e.disabled,text:P[e.textProp],"remove-label":e.removeLabel,pre:e.getPre(P),onDelete:B=>e.removeFromValue(P)},null,8,["id","focused","disabled","text","remove-label","pre","onDelete"])),[[M,!e.singleSelect]])),128)),f("textarea",W(e.inputAttrs,{class:["feather-autocomplete-input",{error:e.error}],"data-ref-id":"feather-autocomplete-input"},Q(e.inputListeners,!0),{ref:"input"}),null,16)],2)]),_:2},1040,["for","raised","focused","clear-text","showClear","onClear"])]),default:g(()=>[e.gridConfig?w("",!0):D((h(),v(a,{key:0,items:e.internalResults,value:e.modelValue,"text-prop":e.textProp,activeId:e.resultItemId,activeIndex:e.active.row,"aria-label":e.label,onSelect:e.clickedItem,onDeselect:e.removeFromValue,class:"autocomplete-results",id:e.resultsId,single:e.singleSelect,"new-label":e.newLabel,highlight:e.highlight,query:e.query,ref:"results"},null,8,["items","value","text-prop","activeId","activeIndex","aria-label","onSelect","onDeselect","id","single","new-label","highlight","query"])),[[M,e.showResults]]),e.gridConfig?D((h(),v(I,{key:1,items:e.internalResults,value:e.modelValue,"text-prop":e.textProp,config:e.gridConfig,activeId:e.resultItemId,activeRow:e.active.row,activeCol:e.active.col,"aria-label":e.label,onSelect:e.clickedItem,class:"autocomplete-results",id:e.resultsId,single:e.singleSelect,highlight:e.highlight,query:e.query},null,8,["items","value","text-prop","config","activeId","activeRow","activeCol","aria-label","onSelect","id","single","highlight","query"])),[[M,e.showResults]]):w("",!0),e.showNoResults?(h(),v(C,{key:2},{default:g(()=>[f("span",pt,y(e.noResultsLabel),1)]),_:1})):w("",!0),e.showSelectionLimit?(h(),v(C,{key:3,class:"selection-limit-warning"},{default:g(()=>[m(l,{icon:e.minCharIcon},null,8,["icon"]),f("span",ft,y(e.selectionLimitLabel),1)]),_:1})):w("",!0),e.minChar?D((h(),v(C,{key:4,class:"min-char-warning",id:e.minCharWarningId},{default:g(()=>[m(l,{icon:e.minCharIcon},null,8,["icon"]),f("span",gt,[K(e.$slots,"min-char",{},()=>[Y(y(e.computedMinCharText),1)],!0)])]),_:3},8,["id"])),[[M,e.showMinCharWarning]]):w("",!0),e.showLoading?(h(),v(k,{key:5})):w("",!0)]),_:3},8,["absolute-positioned","open","onOutsideClick","onTriggerClick","class"]),m(F,{id:e.subTextId},null,8,["id"])],16)}const wt=L(ht,[["render",mt],["__scopeId","data-v-5413cadc"]]);export{wt as F};
