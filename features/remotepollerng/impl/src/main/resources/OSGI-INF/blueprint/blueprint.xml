<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0
        https://osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd">

    <reference id="sessionUtils" interface="org.opennms.netmgt.dao.api.SessionUtils"/>
    <reference id="monitoringLocationDao" interface="org.opennms.netmgt.dao.api.MonitoringLocationDao"/>
    <reference id="pollerConfig" interface="org.opennms.netmgt.config.PollerConfig"/>
    <reference id="monitoredServiceDao" interface="org.opennms.netmgt.dao.api.MonitoredServiceDao"/>
    <reference id="locationAwarePollerClient" interface="org.opennms.netmgt.poller.LocationAwarePollerClient"/>
    <reference id="locationSpecificStatusDao" interface="org.opennms.netmgt.dao.api.LocationSpecificStatusDao"/>
    <reference id="persisterFactory" interface="org.opennms.netmgt.collection.api.PersisterFactory"/>
    <reference id="eventForwarder" interface="org.opennms.netmgt.events.api.EventForwarder"/>

    <bean id="pollerBackEnd" class="org.opennms.netmgt.remotepollerng.PollerBackEndNG" init-method="start" destroy-method="stop">
        <argument index="0" ref="sessionUtils"/>
        <argument index="1" ref="monitoringLocationDao"/>
        <argument index="2" ref="pollerConfig"/>
        <argument index="3" ref="monitoredServiceDao"/>
        <argument index="4" ref="locationAwarePollerClient"/>
        <argument index="5" ref="locationSpecificStatusDao"/>
        <argument index="6" ref="persisterFactory"/>
        <argument index="7" ref="eventForwarder"/>
    </bean>

</blueprint>
