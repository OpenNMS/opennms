[[release-33-changelog]]

= Changelog
 
[[releasenotes-changelog-33.0.7]]

== Release 33.0.7

Release 33.0.7 contains a bunch of security updates.

The codename for Horizon 33.0.7 is https://wikipedia.org/wiki/$$Calliandra_surinamensis$$[_Pink powder puff_].

=== Bug

* Stored XSS on "Monitoring Locations" (Issue https://issues.opennms.org/browse/NMS-16443[NMS-16443])
* Host Header Injection (Issue https://issues.opennms.org/browse/NMS-16450[NMS-16450])
* [Web] - Missing Secure Flag on Session Cookie (Issue https://issues.opennms.org/browse/NMS-16451[NMS-16451])


[[releasenotes-changelog-33.0.6]]

== Release 33.0.6

Release 33.0.6 contains a couple of bug fixes and an enhancement.

The codename for Horizon 33.0.6 is https://wikipedia.org/wiki/$$Mangifera_indica$$[_Mango_].

=== Task

* Stalled threads in telemetryd parser (Issue https://issues.opennms.org/browse/NMS-16243[NMS-16243])

=== Bug

* Cross-Frame Scripting-CWE ID : 1021 Web scan vulnerability (Issue https://issues.opennms.org/browse/NMS-16369[NMS-16369])
* Address CVE-2020-15522 (Issue https://issues.opennms.org/browse/NMS-16384[NMS-16384])
* Querying Alarms by alarmId leads to a page that loses context on refresh (Issue https://issues.opennms.org/browse/NMS-16417[NMS-16417])
* NMS-16243 fix missing from 33.x release series (Issue https://issues.opennms.org/browse/NMS-16441[NMS-16441])
* Stored XSS on "MIB Compiler" (Issue https://issues.opennms.org/browse/NMS-16444[NMS-16444])
* Stored XSS on "Scheduled Outages" (Issue https://issues.opennms.org/browse/NMS-16445[NMS-16445])
* Missing Access Control on "Grafana Endpoints" (Issue https://issues.opennms.org/browse/NMS-16446[NMS-16446])
* Missing Access Control on "Geocoder Configuration" (Issue https://issues.opennms.org/browse/NMS-16447[NMS-16447])
* Stored XSS on "Node Label" (Issue https://issues.opennms.org/browse/NMS-16448[NMS-16448])
* Detailed server configuration in the error (Issue https://issues.opennms.org/browse/NMS-16449[NMS-16449])
* Services are deleted and recreated on each provisioning run (Issue https://issues.opennms.org/browse/NMS-16458[NMS-16458])

[[releasenotes-changelog-33.0.5]]

== Release 33.0.5

Release 33.0.5 contains a bug fix and an enhancement.

The codename for Horizon 33.0.5 is https://wikipedia.org/wiki/$$Pinus_nigra$$[_Black Pine_].

=== Enhancement

* Update Provisiond scan to remove old primary IP inteface (Issue https://issues.opennms.org/browse/NMS-16347[NMS-16347])

=== Bug

* Unable to set `collection` on detectors (Issue https://issues.opennms.org/browse/NMS-16360[NMS-16360])


[[releasenotes-changelog-33.0.4]]

== Release 33.0.4

Release 33.0.4 contains a bunch of bug fixes and enhancements.

The codename for Horizon 33.0.4 is https://wikipedia.org/wiki/$$Cordia_boissieri$$[_Anacahuita_].

=== Bug

* PostgreSQL monitor url parameter metadata cannot be resolved properly and collection fails consequently (Issue https://issues.opennms.org/browse/NMS-16374[NMS-16374])
* Unable to display varbind's form feed characters and other control characters in events (Issue https://issues.opennms.org/browse/NMS-16395[NMS-16395])

=== Enhancement

* Allow fix-permissions and update-package-permissions scripts to set ownership for customized users (Issue https://issues.opennms.org/browse/NMS-16406[NMS-16406])

[[releasenotes-changelog-33.0.3]]

== Release 33.0.3

Release 33.0.3 contains a number of bug fixes and a documentation update.

The codename for Horizon 33.0.3 is https://www.gardenia.net/plant/fagus-sylvatica-pendula[_Weeping European Beech_].

=== Bug

* Running the config-tester -a throws an IllegalStateException for ActiveMQ context (Issue https://issues.opennms.org/browse/NMS-16355[NMS-16355])
* CVE-2024-3094 investigation (Issue https://issues.opennms.org/browse/NMS-16396[NMS-16396])
* Container image build fails with a wrong reference to deploy-base:ubi9-3.3.0.b265-jre-17 (Issue https://issues.opennms.org/browse/NMS-16399[NMS-16399])

[[releasenotes-changelog-33.0.2]]

== Release 33.0.2

Release 33.0.2 contains a bunch of bug fixes and enhancements.

The codename for Horizon 33.0.2 is https://wikipedia.org/wiki/$$Chionanthus_virginicus$$[_Old Man's Beard_].

=== Bug

* Access Denied when deleting a node with admin user (Issue https://issues.opennms.org/browse/NMS-15746[NMS-15746])
* Device config upload failed with org.apache.sshd.common.SshException: EdDSA provider not supported (Issue https://issues.opennms.org/browse/NMS-16131[NMS-16131])
* Event parameters with `<>` not rendering in event/alarm views (Issue https://issues.opennms.org/browse/NMS-16157[NMS-16157])
* Hikari CP leaking threads (Issue https://issues.opennms.org/browse/NMS-16345[NMS-16345])
* LdapMonitor does not work when a Minion is the poller (Issue https://issues.opennms.org/browse/NMS-16349[NMS-16349])
* The script showing the Karaf process status in our container image requires "ps" (Issue https://issues.opennms.org/browse/NMS-16356[NMS-16356])
* VMware credentials exposed in provisiond log file (Issue https://issues.opennms.org/browse/NMS-16357[NMS-16357])
* Collectd can't persist time series data and throwing a NPE with "java.util.List.size()" because "rraList" is null (Issue https://issues.opennms.org/browse/NMS-16358[NMS-16358])

=== Enhancement

* Update install script to clear Karaf cache (Issue https://issues.opennms.org/browse/NMS-16226[NMS-16226])
* Add option to import-requisition command to block until import is done (Issue https://issues.opennms.org/browse/NMS-16343[NMS-16343])
* Rename User Data Collection feature to Product Update Enrollment (Issue https://issues.opennms.org/browse/NMS-16353[NMS-16353])
* Configurable option for Kafka Producer CollectionSet buffer size (Issue https://issues.opennms.org/browse/NMS-16366[NMS-16366])

[[releasenotes-changelog-33.0.1]]

== Release 33.0.1

Release 33.0.1 is a re-release of 33.0.0, reverting the async poller changes and fixing a packaging issue.

=== Bug

* Issue installing on Debian 11 Reported by Customer (Issue https://issues.opennms.org/browse/NMS-16309[NMS-16309])
* REVERT: enable async polling by default (Issue https://issues.opennms.org/browse/NMS-15738[NMS-15738])

=== Enhancement

* Docs page for Info REST service (Issue https://opennms.atlassian.net/browse/NMS-16351[NMS-16351])

[[releasenotes-changelog-33.0.0]]

== Release 33.0.0

Release 33.0.0 is the first major release in the 33.x series.
It contains a bunch of changes, including metadata support in many more configs, a revamped node list, and more.

The codename for Horizon 33.0.0 is https://wikipedia.org/wiki/$$Sequoia_sempervirens$$[_Coast Redwood_].

=== Bug

* Missing information in downtime model docs (Issue https://issues.opennms.org/browse/NMS-10133[NMS-10133])
* R-Core fails to install following the Horizon 30 Install Docs (Issue https://issues.opennms.org/browse/NMS-14777[NMS-14777])
* Surveillance Dashboard shows acknowledged Alarms (Issue https://issues.opennms.org/browse/NMS-15448[NMS-15448])
* Access Denied when deleting a node with admin user (Issue https://issues.opennms.org/browse/NMS-15746[NMS-15746])
* Typo in Configuring Minion via confd README (Issue https://issues.opennms.org/browse/NMS-15901[NMS-15901])
* "Dismiss" in Usage Statistics Sharing Notice is misleading (Issue https://issues.opennms.org/browse/NMS-16027[NMS-16027])
* Links in node table open both in current tab and in a new tab (Issue https://issues.opennms.org/browse/NMS-16047[NMS-16047])
* Fix Geographical Map after vue-leaflet upgrade (Issue https://issues.opennms.org/browse/NMS-16065[NMS-16065])
* Top of page search displays 'Show nodes with severity' multiple times (Issue https://issues.opennms.org/browse/NMS-16067[NMS-16067])
* Device config upload failed with org.apache.sshd.common.SshException: EdDSA provider not supported (Issue https://issues.opennms.org/browse/NMS-16131[NMS-16131])
* Data choices plugin throws a NPE when user clicks on show collected data. (Issue https://issues.opennms.org/browse/NMS-16151[NMS-16151])
* Event parameters with `<>` not rendering in event/alarm views (Issue https://issues.opennms.org/browse/NMS-16157[NMS-16157])
* Users with ROLE_READONLY can add, modify, and delete alarm memos (Issue https://issues.opennms.org/browse/NMS-16162[NMS-16162])
* Docs: Meridian plugins reference wrong package names (Issue https://issues.opennms.org/browse/NMS-16164[NMS-16164])
* Fix resource types for default Postgres collection (Issue https://issues.opennms.org/browse/NMS-16165[NMS-16165])
* Service detail page displays wrong collectd package (Issue https://issues.opennms.org/browse/NMS-16167[NMS-16167])
* enlinkd logging hibernate errors (lack of unique index) (Issue https://issues.opennms.org/browse/NMS-16199[NMS-16199])
* Zookeeper 3.4.6 version mismatch in Meridian 2021 (Issue https://issues.opennms.org/browse/NMS-16209[NMS-16209])
* upgrade ActiveMQ to latest 5.15.x (Issue https://issues.opennms.org/browse/NMS-16218[NMS-16218])
* Documentation build failing: cannot find antora/xref-validator (Issue https://issues.opennms.org/browse/NMS-16227[NMS-16227])
* Node structure: fix sorting (Issue https://issues.opennms.org/browse/NMS-16246[NMS-16246])
* OpenConfig Connector parameter frequency in incorrect unit (Issue https://issues.opennms.org/browse/NMS-16253[NMS-16253])
* Container flag `-t` does not pass correct arguments (Issue https://issues.opennms.org/browse/NMS-16265[NMS-16265])
* Cortex plugin does not start automatically (Issue https://issues.opennms.org/browse/NMS-16272[NMS-16272])

=== Enhancement

* Add var-bind section into notification docs (Issue https://issues.opennms.org/browse/NMS-13273[NMS-13273])
* Provisiond threads description discrepancies (Issue https://issues.opennms.org/browse/NMS-14766[NMS-14766])
* Metadata DSL: Add metadata interpolation capability onto more threshold fields (Issue https://issues.opennms.org/browse/NMS-15667[NMS-15667])
* enable async polling by default (Issue https://issues.opennms.org/browse/NMS-15738[NMS-15738])
* Switch our Docker base to UBI (Issue https://issues.opennms.org/browse/NMS-15788[NMS-15788])
* Docs: Add install note on DNS resolution (Issue https://issues.opennms.org/browse/NMS-15792[NMS-15792])
* Extend PageSequenceMonitor to allow basic auth credentials (Issue https://issues.opennms.org/browse/NMS-15802[NMS-15802])
* Expand BlueCat DNS Data Collection (Issue https://issues.opennms.org/browse/NMS-15865[NMS-15865])
* Add confd support to Sentinel container (Issue https://issues.opennms.org/browse/NMS-16149[NMS-16149])
* Docs: Remove deprecated resourcecli section (Issue https://issues.opennms.org/browse/NMS-16216[NMS-16216])
* Update install script to clear Karaf cache (Issue https://issues.opennms.org/browse/NMS-16226[NMS-16226])
* Upgrade to latest Karaf 4.3 (Issue https://issues.opennms.org/browse/NMS-16249[NMS-16249])
* Deprecate VMware 3-5 collection/graphs (Issue https://issues.opennms.org/browse/NMS-16266[NMS-16266])
* Fix formatting in snmp-graph.properties.d files (Issue https://issues.opennms.org/browse/NMS-16269[NMS-16269])
* Docs: Update install docs for monitoring database connection (Issue https://issues.opennms.org/browse/NMS-16286[NMS-16286])
* Update container confd to default Postgres SSL to prefer (Issue https://issues.opennms.org/browse/NMS-16287[NMS-16287])

=== Task

* Metadata DSL: Elasticsearch Integration (Issue https://issues.opennms.org/browse/NMS-15752[NMS-15752])
* Update UI for Admin password change prompt (Issue https://issues.opennms.org/browse/NMS-15780[NMS-15780])
* Create Initial Node Structure Page (Issue https://issues.opennms.org/browse/NMS-16037[NMS-16037])
* Update UI dependencies to latest Vue3, feather, etc. (Issue https://issues.opennms.org/browse/NMS-16045[NMS-16045])
* Node structure page: Union/Intersection category filter switch (Issue https://issues.opennms.org/browse/NMS-16058[NMS-16058])
* Node structure: add unit tests (Issue https://issues.opennms.org/browse/NMS-16060[NMS-16060])
* Structured Node List: Add smoke test (Issue https://issues.opennms.org/browse/NMS-16061[NMS-16061])
* Structured node list: Export CSV/XLS (Issue https://issues.opennms.org/browse/NMS-16064[NMS-16064])
* Unzip command is missing from UBI images (Issue https://issues.opennms.org/browse/NMS-16087[NMS-16087])
* Convert Menu store to pinia (Issue https://issues.opennms.org/browse/NMS-16092[NMS-16092])
* Structured node list: UX Updates (Issue https://issues.opennms.org/browse/NMS-16103[NMS-16103])
* Structured node list: handle legacy query strings (Issue https://issues.opennms.org/browse/NMS-16116[NMS-16116])
* Structured node list: UX updates Part 2 (Issue https://issues.opennms.org/browse/NMS-16123[NMS-16123])
* Structured node list: Merge feature branch to develop (Issue https://issues.opennms.org/browse/NMS-16124[NMS-16124])
* Convert NodeStructure store to pinia (Issue https://issues.opennms.org/browse/NMS-16125[NMS-16125])
* Node structure: Add management IP address (Issue https://issues.opennms.org/browse/NMS-16126[NMS-16126])
* Node structure: Make preferences persistent (Issue https://issues.opennms.org/browse/NMS-16130[NMS-16130])
* Convert Node store to pinia (Issue https://issues.opennms.org/browse/NMS-16136[NMS-16136])
* Update Vue UI README with dev workflow instructions (Issue https://issues.opennms.org/browse/NMS-16142[NMS-16142])
* Convert more stores to pinia (Issue https://issues.opennms.org/browse/NMS-16144[NMS-16144])
* Convert auth, usageStats and other stores to pinia (Issue https://issues.opennms.org/browse/NMS-16154[NMS-16154])
* Convert deviceStore etc to pinia, remove vuex from project (Issue https://issues.opennms.org/browse/NMS-16156[NMS-16156])
* DOCS: Document structured node list (Issue https://issues.opennms.org/browse/NMS-16210[NMS-16210])
* Docs: Remove reference to 'opennms-cloud-plugin' plugin (Issue https://issues.opennms.org/browse/NMS-16231[NMS-16231])

=== New Feature

* Metadata DSL: VMware Integration (Issue https://issues.opennms.org/browse/NMS-15753[NMS-15753])
* Metadata DSL: WSMAN Integration (Issue https://issues.opennms.org/browse/NMS-15754[NMS-15754])
* Metadata DSL: TL1D Integration (Issue https://issues.opennms.org/browse/NMS-15755[NMS-15755])
* Metadata DSL: JMX Data-collection (Issue https://issues.opennms.org/browse/NMS-15756[NMS-15756])
* Metadata DSL: XML Data-collection (Issue https://issues.opennms.org/browse/NMS-15757[NMS-15757])
* Metadata DSL: HTTP/HTTPS Data-collection (Issue https://issues.opennms.org/browse/NMS-15758[NMS-15758])
* Metadata DSL: Notification Credentials (Issue https://issues.opennms.org/browse/NMS-15759[NMS-15759])
* Metadata DSL: Ticketer Plugins (Issue https://issues.opennms.org/browse/NMS-15760[NMS-15760])
* Metadata DSL: Trapd Configuration (Issue https://issues.opennms.org/browse/NMS-15761[NMS-15761])
* Metadata DSL: JCIFS Monitor (Issue https://issues.opennms.org/browse/NMS-15762[NMS-15762])
* Metadata DSL: IFTTT Configuration (Issue https://issues.opennms.org/browse/NMS-15763[NMS-15763])
* Metadata DSL: Repository Configuration (Issue https://issues.opennms.org/browse/NMS-15764[NMS-15764])
* Metadata DSL: [OPTIONAL] Consistent *-config.xml Configurations (Issue https://issues.opennms.org/browse/NMS-15765[NMS-15765])
* Metadata DSL: Evaluate feasability to support metadata in Drools rules (Issue https://issues.opennms.org/browse/NMS-15766[NMS-15766])
* Metadata DSL: Change default poller and collectd configuration files to reflect ability to use metadata (Issue https://issues.opennms.org/browse/NMS-16016[NMS-16016])
* Metadata DSL: snmp-config.xml & SNMP Profiles (Issue https://issues.opennms.org/browse/NMS-16028[NMS-16028])
* Metadata DSL: change default opennms-datasources.xml to reflect the possibility of using metadata (Issue https://issues.opennms.org/browse/NMS-16029[NMS-16029])
* OpenShift: Document the impact of disabling allowPrivilegeEscalation (Issue https://issues.opennms.org/browse/NMS-16239[NMS-16239])
* Update wording to Product Update Sign Up (Issue https://opennms.atlassian.net/browse/NMS-16352[NMS-16352])

=== Story

* Metadata DSL: Documentation for Metadata DSL updates (Issue https://issues.opennms.org/browse/NMS-15774[NMS-15774])
* Document change in login password behaviour (Issue https://issues.opennms.org/browse/NMS-15775[NMS-15775])
* Smoke test for Admin password change (Issue https://issues.opennms.org/browse/NMS-15866[NMS-15866])
* Admin Password Change: UX Review and Updates (Issue https://issues.opennms.org/browse/NMS-15867[NMS-15867])
* Admin Password Change: Merge to develop (Issue https://issues.opennms.org/browse/NMS-15868[NMS-15868])
* User is redirected to landing page after password change is done (Issue https://issues.opennms.org/browse/NMS-16036[NMS-16036])
* Use pinia instead of vuex in Vue UI (Issue https://issues.opennms.org/browse/NMS-16043[NMS-16043])
* Add pinia stores to UI but do not yet activate them (Issue https://issues.opennms.org/browse/NMS-16068[NMS-16068])
* Metadata DSL: Persist poller parameters as meta data (Issue https://issues.opennms.org/browse/NMS-16146[NMS-16146])
* Node structure: more query params (fs:fid, snmp, sys) (Issue https://issues.opennms.org/browse/NMS-16197[NMS-16197])
* Remove plugin 'opennms-cloud-plugin' from installation (Issue https://issues.opennms.org/browse/NMS-16219[NMS-16219])
* Geo Map: enable user-defined map to be the default one (Issue https://issues.opennms.org/browse/NMS-16229[NMS-16229])
* DOCS: Document Geographical Map user-defined map (Issue https://issues.opennms.org/browse/NMS-16230[NMS-16230])
* Add node-gyp to fix CircleCI build-ui errors (Issue https://issues.opennms.org/browse/NMS-16242[NMS-16242])
* News Feed: UI Panel and REST Service (Issue https://issues.opennms.org/browse/NMS-16282[NMS-16282])
* Web UI for User Data Collection (Issue https://issues.opennms.org/browse/NMS-16283[NMS-16283])
* User Data Collection: Database / Rest / CM work (Issue https://issues.opennms.org/browse/NMS-16284[NMS-16284])

=== Epic

* Opt-In User Data: Name, email and company Collection (Issue https://issues.opennms.org/browse/NMS-16279[NMS-16279])
