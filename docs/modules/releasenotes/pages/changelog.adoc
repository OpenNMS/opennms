[[release-2021-changelog]]

= Changelog

[[releasenotes-changelog-Meridian-2021.1.11]]

== Release Meridian-2021.1.11

Release 2021.1.11 is a small release with a number of bug fixes, including a few security
fixes related to Grafana PDF reports and Protobuf.

Thanks to Sahil Tikoo from Etisalat for reporting the Grafana endpoint issue.

A note about security issues: we have traditionally created CVEs in a pretty ad-hoc manner.
We are in the process of formalizing how we'll be doing so going into the future.

The codename for Horizon 2021.1.11 is https://wikipedia.org/wiki/$$Mid-ocean_ridge$$[_Mid-Ocean Ridge_].

=== Bug

* config-tester doesn't find malformed resourceTypes (Issue http://issues.opennms.org/browse/NMS-13723[NMS-13723])
* Event configuration UI fails to persist logmsg dest changes (Issue http://issues.opennms.org/browse/NMS-13729[NMS-13729])
* Outdated javascript library (Issue http://issues.opennms.org/browse/NMS-13848[NMS-13848])
* org.opennms.core.commands never got added to Karaf build (Issue http://issues.opennms.org/browse/NMS-13910[NMS-13910])
* grafana endpoint can be used to port-scan internal resources (Issue http://issues.opennms.org/browse/NMS-13917[NMS-13917])
* Minion fails to marshall requisition with JAXB error: Class [org.opennms.netmgt.model.PrimaryTypeAdapter] not found (Issue http://issues.opennms.org/browse/NMS-13927[NMS-13927])
* Unsynchronized access to service factories in TelemetryServiceRegistryImpl (Issue http://issues.opennms.org/browse/NMS-13961[NMS-13961])

=== Enhancement

* Split SNMP Property Extenders into multiple pages (Issue http://issues.opennms.org/browse/NMS-13760[NMS-13760])
* Upgrade protobuf-java version (Issue http://issues.opennms.org/browse/NMS-13889[NMS-13889])

[[releasenotes-changelog-Meridian-2021.1.10]]

== Release Meridian-2021.1.10

Release 2021.1.10 is a small release with another upgrade for Log4j2 as well as an NPE
fix in the topology UI, plus some dependency updates in the web UI code.

It is not believed that we are vulnerable to the Log4j issues fixed in these newer releases,
but are updating anyway link:https://www.merriam-webster.com/dictionary/belt-and-suspenders[just to be sure].

The codename for 2021.1.10 is link:https://wikipedia.org/wiki/$$Parker_Solar_Probe$$[_Parker Solar Probe_].

=== Bug

* Customer is not able to view Topology (Issue http://issues.opennms.org/browse/NMS-13851[NMS-13851])
* Javascript security updates (December, 2021) (Issue http://issues.opennms.org/browse/NMS-13857[NMS-13857])
* CVE-2021-45105: Update to Log4j 2.17.0 (Issue http://issues.opennms.org/browse/NMS-13868[NMS-13868])
* upgrade to log4j2 2.17.1 and pax-logging 1.11.13/2.0.14 (Issue http://issues.opennms.org/browse/NMS-13878[NMS-13878])

=== Enhancement

* Minion Kafka docs missing reference to custom.system.properties (Issue http://issues.opennms.org/browse/NMS-13885[NMS-13885])

[[releasenotes-changelog-Meridian-2021.1.9]]

== Release Meridian-2021.1.9

Release 2021.1.9 is a re-release of 2021.1.8 with additional fixes relating to
Log4j2 vulnerabilities.

The codename for 2021.1.9 is link:https://wikipedia.org/wiki/$$Venera_6$$[_Venera 6_].

=== Bug

* CVE-2021-45046: incomplete Log4j2 vulnerability mitigation (Issue http://issues.opennms.org/browse/NMS-13858[NMS-13858])

[[releasenotes-changelog-Meridian-2021.1.8]]

== Release Meridian-2021.1.8

Release 2021.1.8 is an out-of-band release with a fix for the Log4j2 security issue,
plus an enhancement to support `exclude-url` in discovery's configuration.

The codename for 2021.1.8 is link:https://wikipedia.org/wiki/$$Cassiniâ€“Huygens$$[_Cassini_].

=== Bug

* Log4j2 0-day: CVE-2021-44228 (Issue http://issues.opennms.org/browse/NMS-13850[NMS-13850])

=== Enhancement

* Update VMWare import documentation regarding multiple parameters (Issue http://issues.opennms.org/browse/NMS-9889[NMS-9889])
* Add "exclude-url" to Discoverd's configuration (Issue http://issues.opennms.org/browse/NMS-13718[NMS-13718])

[[releasenotes-changelog-Meridian-2021.1.7]]

== Release Meridian-2021.1.7

Release 2021.1.7 contains a fix for a Jetty CVE, plus a number of bug fixes and small enhancements,
including an update to fix a bug in user auth changes and enhancements to SNMPv3 auth and Trapd
configuration.

The codename for 2021.1.7 is link:https://wikipedia.org/wiki/$$Mars_Orbiter_Mission_2$$[_MOM 2_].

=== Bug

* Update labelling in Configure Discover screen (Issue http://issues.opennms.org/browse/NMS-12992[NMS-12992])
* Link to release notes in web Help / About needs updating (Issue http://issues.opennms.org/browse/NMS-13579[NMS-13579])
* Remove reference to DHCP plugin from docs (Issue http://issues.opennms.org/browse/NMS-13727[NMS-13727])
* Authorization changes not taking immediate effect (Issue http://issues.opennms.org/browse/NMS-13761[NMS-13761])
* Missing RRD package definition in BMP persisting adapter (Issue http://issues.opennms.org/browse/NMS-13812[NMS-13812])
* CVE-2021-28164: access to WEB-INF (Issue http://issues.opennms.org/browse/NMS-13832[NMS-13832])

=== Enhancement

* Support multiple auth params for same SNMPV3 username (Issue http://issues.opennms.org/browse/NMS-13490[NMS-13490])
* Dynamic Configuration of Trap Listener (Issue http://issues.opennms.org/browse/NMS-13564[NMS-13564])
* Document how to install from source (Issue http://issues.opennms.org/browse/NMS-13685[NMS-13685])
* Migrate Discovery settings from wiki into docs (Issue http://issues.opennms.org/browse/NMS-13730[NMS-13730])
* Remove link to wiki from the landing page (Issue http://issues.opennms.org/browse/NMS-13779[NMS-13779])

[[releasenotes-changelog-Meridian-2021.1.6]]

== Release Meridian-2021.1.6

Release 2021.1.6 contains a few enhancements and doc updates, plus a number of bug fixes including an XSS bug in the notification wizard.

The codename for 2021.1.6 is link:https://wikipedia.org/wiki/$$Chang'e_2$$[_Chang'e 2_].

=== Bug

* The node and interface counters of the Evaluation Layer are incorrect (Issue http://issues.opennms.org/browse/NMS-13283[NMS-13283])
* EvaluationMetrics.log is contaminated with non-related metrics. (Issue http://issues.opennms.org/browse/NMS-13284[NMS-13284])
* The Info ReST endpoint is not showing the services status (Issue http://issues.opennms.org/browse/NMS-13437[NMS-13437])
* Reflected XSS in webapp notice wizard (Issue http://issues.opennms.org/browse/NMS-13496[NMS-13496])
* macOS Monterey: older OpenNMS branches do not start anymore (Issue http://issues.opennms.org/browse/NMS-13703[NMS-13703])
* related events box in alarm detail shows all events when alarm has no node / interface / service / ifindex (Issue http://issues.opennms.org/browse/NMS-13705[NMS-13705])

=== Enhancement

* Documentation for reloadable daemons (Issue http://issues.opennms.org/browse/NMS-12611[NMS-12611])
* Incorporate node related information to events and alarms topic in opennms-kafka-producer feature (Issue http://issues.opennms.org/browse/NMS-12778[NMS-12778])
* Show Link State when viewing links on the Enlinkd topology maps (Issue http://issues.opennms.org/browse/NMS-13619[NMS-13619])
* Topologies menu (Issue http://issues.opennms.org/browse/NMS-13622[NMS-13622])
* Check doc source for wiki links (Issue http://issues.opennms.org/browse/NMS-13688[NMS-13688])
* Add hint for time sync on OpenNMS components (Issue http://issues.opennms.org/browse/NMS-13724[NMS-13724])

[[releasenotes-changelog-Meridian-2021.1.5]]

== Release Meridian-2021.1.5

Release 2021.1.5 contains a number of bug fixes and enhancements, including web UI,
Minion, Docker, and documentation improvements.

The codename for 2021.1.5 is link:https://wikipedia.org/wiki/$$Viking_1$$[_Viking 1_].

=== Bug

* Strings with URL arguments are truncated in the eventdescr field (Issue http://issues.opennms.org/browse/NMS-13428[NMS-13428])
* Web-based SNMP config UI does not pass through proxy-host if a value is provided (Issue http://issues.opennms.org/browse/NMS-13512[NMS-13512])
* Add JVM option to the minion startup script (Issue http://issues.opennms.org/browse/NMS-13552[NMS-13552])
* missing fields in search autocomplete (Issue http://issues.opennms.org/browse/NMS-13518[NMS-13518])
* Signed Minion container bleeding image shows revision as meridian-foundation-2021.1.4-1-487 (Issue http://issues.opennms.org/browse/NMS-13587[NMS-13587])
* Meridian Minion images do not include release (Issue http://issues.opennms.org/browse/NMS-13591[NMS-13591])

=== Enhancement

* Document data types in collectd (Issue http://issues.opennms.org/browse/NMS-10476[NMS-10476])
* Update adapters documentation (Issue http://issues.opennms.org/browse/NMS-12999[NMS-12999])
* Move monitors docs to the Reference section (Issue http://issues.opennms.org/browse/NMS-13524[NMS-13524])
* Move detectors to reference section (Issue http://issues.opennms.org/browse/NMS-13525[NMS-13525])
* Move collectors to reference section (Issue http://issues.opennms.org/browse/NMS-13526[NMS-13526])
* Move telemetryd (streaming telemetry) to reference section (Issue http://issues.opennms.org/browse/NMS-13527[NMS-13527])
* Move ticketing docs to reference section (Issue http://issues.opennms.org/browse/NMS-13529[NMS-13529])
* Move provisioning policies to the reference section (Issue http://issues.opennms.org/browse/NMS-13562[NMS-13562])
* Publish Minion image for Meridian to DockerHub  (Issue http://issues.opennms.org/browse/NMS-13567[NMS-13567])
* Backport docker content trust for signed images to meridian 2021 (Issue http://issues.opennms.org/browse/NMS-13568[NMS-13568])
* Backport confd support for minion config (Issue http://issues.opennms.org/browse/NMS-13573[NMS-13573])
* Geolocator Doc Clarification (Issue http://issues.opennms.org/browse/NMS-13611[NMS-13611])

[[releasenotes-changelog-Meridian-2021.1.4]]

Release 2021.1.4 contains a number of bug fixes and enhancements, including a dependency
update related to a CVE.

The codename for 2021.1.4 is link:$$https://wikipedia.org/wiki/Sputnik_19$$[_Sputnik 19_].

== Release Meridian-2021.1.4

=== Bug

* OpenNMS Admin Guide HostResourceSwRunMonitor service-name not exact match string (Issue http://issues.opennms.org/browse/NMS-8968[NMS-8968])
* Syslog messages missing nodelabel, location, and interface (Issue http://issues.opennms.org/browse/NMS-13485[NMS-13485])
* Bump Apache Ant version to 1.10.11 (CVE-2021-36373, CVE-2021-36374) (Issue http://issues.opennms.org/browse/NMS-13509[NMS-13509])

=== Enhancement

* Update Provisiond Docs (Issue http://issues.opennms.org/browse/NMS-13446[NMS-13446])
* Update table formatting in docs.  (Issue http://issues.opennms.org/browse/NMS-13472[NMS-13472])
* Migrate VMware config from wiki to docs (Issue http://issues.opennms.org/browse/NMS-13473[NMS-13473])
* Use Karaf shell commands to secure Minion SSH Karaf access (Issue http://issues.opennms.org/browse/NMS-13511[NMS-13511])
* Reformat tables (again) (Issue http://issues.opennms.org/browse/NMS-13515[NMS-13515])

[[releasenotes-changelog-Meridian-2021.1.3]]

== Release Meridian-2021.1.3

Release 2021.1.3 contains a bunch of bug fixes and enhancements, plus a few security updates,
notably a fix for a Jetty CVE.

The codename for 2021.1.3 is link:$$https://wikipedia.org/wiki/MESSENGER$$[_MESSENGER_].

=== Bug

* The Dev Documentation doesn't have information about the Hardware Inventory (Issue http://issues.opennms.org/browse/NMS-11730[NMS-11730])
* Admin guide still uses deprecated term "provisioning group" in places (Issue http://issues.opennms.org/browse/NMS-12373[NMS-12373])
* OutOfMemory issue on Minion ( corner case related to Offheap) (Issue http://issues.opennms.org/browse/NMS-13405[NMS-13405])
* The PageSequenceMonitor keys host and virtual-host are confusing (Issue http://issues.opennms.org/browse/NMS-13412[NMS-13412])
* Jetty 9.4.38 security issues CVE-2021-28164, CVE-2021-34428 and CVE-2021-28169 (Issue http://issues.opennms.org/browse/NMS-13449[NMS-13449])
* Optimize node cache refresh to be non-blocking to flow data (Issue http://issues.opennms.org/browse/NMS-13481[NMS-13481])
* Reflected XSS in webapp notice wizard (Issue http://issues.opennms.org/browse/NMS-13496[NMS-13496])
* Reflected XSS in scheduled outage editor (Issue http://issues.opennms.org/browse/NMS-13498[NMS-13498])

=== Enhancement

* Add missing Prometheus collectd example in our documenation (Issue http://issues.opennms.org/browse/NMS-12978[NMS-12978])
* Table formatting issue in new docs (Issue http://issues.opennms.org/browse/NMS-13364[NMS-13364])
* Hardware Inventory Plugin needs docs (Issue http://issues.opennms.org/browse/NMS-13370[NMS-13370])
* Doc typos - improper character escaping (Issue http://issues.opennms.org/browse/NMS-13448[NMS-13448])
* Update table formatting in collectors section of docs (Issue http://issues.opennms.org/browse/NMS-13456[NMS-13456])

[[releasenotes-changelog-Meridian-2021.1.2]]

== Release Meridian-2021.1.2

Release 2021.1.2 contains a bunch of bug fixes and enhancements, plus a few security updates.

The codename for 2021.1.2 is link:$$https://wikipedia.org/wiki/Ulysses_probe$$[_Ulysses_].

=== Bug

* SNMP collection failing for "interface label is null or blank" (Issue http://issues.opennms.org/browse/NMS-11764[NMS-11764])
* Meridian installation guide is incomplete (Issue http://issues.opennms.org/browse/NMS-13294[NMS-13294])
* Default Debian instructions don't work on a minimal install (Issue http://issues.opennms.org/browse/NMS-13355[NMS-13355])
* CVE-2020-13956: Update commons-httpclient to 4.5.13 (Issue http://issues.opennms.org/browse/NMS-13360[NMS-13360])
* CVE-2017-5929: bump logback-classic version to latest (Issue http://issues.opennms.org/browse/NMS-13361[NMS-13361])
* Update images chapter in docs remove two chapters (Issue http://issues.opennms.org/browse/NMS-13371[NMS-13371])
* Package diffutils is missing in Docker image (Issue http://issues.opennms.org/browse/NMS-13429[NMS-13429])

=== Enhancement

* Incorporate node related information to events and alarms topic in opennms-kafka-producer feature (Issue http://issues.opennms.org/browse/NMS-12778[NMS-12778])
* Expand PageSequenceMonitor Documentation (Issue http://issues.opennms.org/browse/NMS-13260[NMS-13260])
* Publish minion config schema (Issue http://issues.opennms.org/browse/NMS-13285[NMS-13285])
* update WMI dependencies (Issue http://issues.opennms.org/browse/NMS-13320[NMS-13320])
* Expand Sink API Documentation (Issue http://issues.opennms.org/browse/NMS-13328[NMS-13328])
* Add out-of-band monitoring content to main user documentation (Issue http://issues.opennms.org/browse/NMS-13330[NMS-13330])
* Create DnsDetector docs (Issue http://issues.opennms.org/browse/NMS-13338[NMS-13338])
* Create FtpDetector docs (Issue http://issues.opennms.org/browse/NMS-13339[NMS-13339])
* Create HostResourceSWRunDetector docs (Issue http://issues.opennms.org/browse/NMS-13340[NMS-13340])
* Setup DCT keys for the OpenNMS and OpenNMS-Forge organizations (Issue http://issues.opennms.org/browse/NMS-13345[NMS-13345])
* Implement Kafka Consumer for events (protobuf) (Issue http://issues.opennms.org/browse/NMS-13362[NMS-13362])
* Allow setting java heap minimum and maximum values in opennms.conf (Issue http://issues.opennms.org/browse/NMS-13367[NMS-13367])
* Misc documentation fixes (Issue http://issues.opennms.org/browse/NMS-13426[NMS-13426])

[[releasenotes-changelog-Meridian-2021.1.1]]

== Release Meridian-2021.1.1

Release 2021.1.1 contains a number of small bug fixes and a few enhancements.

The codename for 2021.1.1 is link:$$https://wikipedia.org/wiki/Advanced_Composition_Explorer$$[_ACE_].

=== Bug

* Race condition when enabling the Situations Feedback feature (Issue http://issues.opennms.org/browse/NMS-12767[NMS-12767])
* IP interface link in Response Time graph page is broken (Issue http://issues.opennms.org/browse/NMS-13158[NMS-13158])
* Mark OIA Implementation for Timeseries as experimental (Issue http://issues.opennms.org/browse/NMS-13281[NMS-13281])
* Meridian installation guide is incomplete (Issue http://issues.opennms.org/browse/NMS-13294[NMS-13294])
* Validate query parameters in snmpInterfaces.jsp (Issue http://issues.opennms.org/browse/NMS-13308[NMS-13308])
* Validate name parameter in DestinationWizardServlet (Issue http://issues.opennms.org/browse/NMS-13309[NMS-13309])
* CLONE - DOC Branding: Icon in tab is still the old one (Issue http://issues.opennms.org/browse/NMS-13329[NMS-13329])

=== Enhancement

* Incorrect reference to org.opennms.netmgt.syslog.cfg (Issue http://issues.opennms.org/browse/NMS-13223[NMS-13223])
* Update conventions for text formatting (Issue http://issues.opennms.org/browse/NMS-13336[NMS-13336])
* Location aware Requisitions from DNS (Issue http://issues.opennms.org/browse/NMS-13278[NMS-13278])

[[releasenotes-changelog-Meridian-2021.1.0]]

== Release Meridian-2021.1.0

Release 2021.1.0 is the first in the Meridian 2021 series, based on Horizon 27.

The codename for 2021.1.0 is link:$$https://wikipedia.org/wiki/Mars_2020$$[_Perseverance_].

=== Bug

* Not possible to define notification parameters via "Configure notifications" UI (Issue http://issues.opennms.org/browse/NMS-8581[NMS-8581])
* Race condition on ALEC's config bundle after installation (Issue http://issues.opennms.org/browse/NMS-12766[NMS-12766])
* Add a warning when enabling forwarding metrics through the Kafka Producer (Issue http://issues.opennms.org/browse/NMS-13039[NMS-13039])
* Reflected XSS reported 2021-03-31 (update summary after disclosure) (Issue http://issues.opennms.org/browse/NMS-13229[NMS-13229])
* Backport Security Issues from Last Month (Issue http://issues.opennms.org/browse/NMS-13231[NMS-13231])
* vmware integration connection pool not expiring connections (Issue http://issues.opennms.org/browse/NMS-13234[NMS-13234])
* Cleared alarms with closed ticket state not removed when using a hybrid approach (Issue http://issues.opennms.org/browse/NMS-13237[NMS-13237])
* Update Vaadin dependencies (Issue http://issues.opennms.org/browse/NMS-13261[NMS-13261])

=== Enhancement

* Migrate OpenNMS core docs to Antora (Issue http://issues.opennms.org/browse/NMS-12497[NMS-12497])
* Overview chapter (Issue http://issues.opennms.org/browse/NMS-12670[NMS-12670])
* Create Win32ServiceDetector documentation (Issue http://issues.opennms.org/browse/NMS-13074[NMS-13074])
* Create WmiDetector documenation (Issue http://issues.opennms.org/browse/NMS-13075[NMS-13075])
* Create BgpSessionDetector documentation (Issue http://issues.opennms.org/browse/NMS-13076[NMS-13076])
* Enable Single topic by default for Kafka RPC (Issue http://issues.opennms.org/browse/NMS-13104[NMS-13104])
* Re-enable Kafka RPC Single Topic By Default (Issue http://issues.opennms.org/browse/NMS-13184[NMS-13184])
* Update Help page with doc links in the Web UI (Issue http://issues.opennms.org/browse/NMS-13225[NMS-13225])
* Admin Guide Newts Instructions Incomplete (Issue http://issues.opennms.org/browse/NMS-13242[NMS-13242])
* Minion - Meridian Installation Documents Incorrect (Issue http://issues.opennms.org/browse/NMS-13247[NMS-13247])
* Provide documentation for context-sensitive help in UI form (Issue http://issues.opennms.org/browse/NMS-13255[NMS-13255])

