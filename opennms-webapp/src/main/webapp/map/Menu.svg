<?xml version="1.0" encoding="iso-8859-1" standalone='no'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20001102//EN"
"http://www.w3.org/TR/2000/CR-SVG-20001102/DTD/svg-20001102.dtd">


<svg  onload="load(evt);" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg-20000303-stylable" enableZoomAndPanControls="false">
	<script type="text/ecmascript" xlink:href="selectionBox/mapApp.js" />
	<script type="text/ecmascript"><![CDATA[
		 var svgNS = "http://www.w3.org/2000/svg";
		 var xlinkNS = "http://www.w3.org/1999/xlink";
		 
		 mynodesResult = new nodesResult();
		 mymapsResult = new mapsResult();		
		 myMapApp = new mapApp();
		
		 myBGImagesResult = new BGImagesResult();
		 myMapElemDimResult = new MapElemDimResult();
 		 myMEIconsResult = new MEIconsResult();		
		
		
		// *************** classes for the definition of the "getSelectionListVal" function ******
		// invoked when an element of the list is selected
		

		
		function nodesResult() { }
		
		nodesResult.prototype.getSelectionListVal = function(selBoxName,nodeNr,arrayVal) {
			//alert("nodesresult="+arrayVal+" "+nodeNr);
			clearDownInfo();
			if(nodeNr!=0){
				menuSvgDocument.getElementById("DownInfo").appendChild(nodeSortAss[arrayVal].getInfo());		
			}
			selectedMapElemInList=arrayVal;
		
		}
		
		
		
		function mapsResult() { }
		
		mapsResult.prototype.getSelectionListVal = function(selBoxName,mapNr,arrayVal) {
			clearDownInfo();
			if(mapNr!=0){
				menuSvgDocument.getElementById("DownInfo").appendChild(mapSortAss[arrayVal].getInfo());		
			}	
			selectedMapInList=arrayVal;
		}
		
		

		
		function BGImagesResult() { }
		
		BGImagesResult.prototype.getSelectionListVal = function(selBoxName,mapNr,arrayVal) {
			clearDownInfo();
			if(mapNr!=0){
				map.tryBackgroundImage(BGImagesSortAss[arrayVal]);
			}
			selectedBGImageInList=arrayVal;
		}	
		
		function MapElemDimResult() { }
		
		MapElemDimResult.prototype.getSelectionListVal = function(selBoxName,dimNr,arrayVal) {
			clearDownInfo();
			selectedMapElemDimInList=arrayVal;
		}	
		
		
		
		function MEIconsResult() { }
		
		MEIconsResult.prototype.getSelectionListVal = function(selBoxName,mapNr,arrayVal) {
		var iconPreviewNode = menuSvgDocument.getElementById("iconPreview");		
		if (iconPreviewNode)
			iconPreviewNode.parentNode.removeChild(iconPreviewNode);
			
			if(mapNr!=0){
			settingMapElemIcon=true;
			selectedMEIconInList=arrayVal;
		
			var iconPreviewGroup = menuSvgDocument.createElementNS(svgNS,"g");
			iconPreviewGroup.setAttributeNS(null,"id", "iconPreview");
			
			var iconPreviewRect = menuSvgDocument.createElementNS(svgNS,"rect");
			iconPreviewRect.setAttributeNS(null,"x", 57);
			iconPreviewRect.setAttributeNS(null,"y", 65);
			iconPreviewRect.setAttributeNS(null,"width", 35);
			iconPreviewRect.setAttributeNS(null,"height", 35);
			iconPreviewRect.setAttributeNS(null,"fill", "white");
			iconPreviewRect.setAttributeNS(null,"stroke", "grey");
			iconPreviewRect.setAttributeNS(null,"stroke-width", 1);
			
			var iconPreview = menuSvgDocument.createElementNS(svgNS,"image");
			iconPreview.setAttributeNS(null,"x", 65);
			iconPreview.setAttributeNS(null,"y", 70);
			iconPreview.setAttributeNS(null,"width", 20);
			iconPreview.setAttributeNS(null,"height", 25);
			iconPreview.setAttributeNS(application.svgnsXLink, "xlink:href",MEIconsSortAss[arrayVal] );
			iconPreviewGroup.appendChild(iconPreviewRect);
			iconPreviewGroup.appendChild(iconPreview);
			selMEIcons.selectionBoxGroup.appendChild(iconPreviewGroup);
			
			var childNode = menuSvgDocument.getElementById("DownInfoText");		
			if (childNode)
				menuSvgDocument.getElementById("DownInfo").removeChild(childNode);		
			menuSvgDocument.getElementById("DownInfo").appendChild(parseXML("<text id=\"DownInfoText\" x=\"5\" y=\"20\">" +
				"<tspan font-size=\"11\" x=\"5\" dy=\"5\">Click on the element to set</tspan>" +
				"<tspan font-size=\"11\" x=\"7\" dy=\"15\">the icon to.</tspan>" +
			"</text>",menuSvgDocument));
			}
			else{
				clearDownInfo();
				settingMapElemIcon=false;
			}
			
		
		}		
		

		// ************************************************************************
		
		// ************** LOAD AND INITIALIZE THE APPLICATION ********************
		function load(evt)
		{
		mapSvgDocument=htmldocument.embeds[0].getSVGDocument();
		menuSvgDocument=htmldocument.embeds[1].getSVGDocument();
		
		addLegend();
		//alert(mapSvgDocument+"map in menu");
	    
		// load MAPS and NODES from the server.
		LoadMaps();
		LoadNodes();

		savedMapString = getMapString();
		
		}
		
		
		function decreaseMapElemDim(){
			switch (mapElemDimension){
					case 30:{
							 mapElemDimension=25;
							 break;
							 }
					case 25:{
							 mapElemDimension=20;
							 break;
							 }					
					case 20:{
							 mapElemDimension=15;
							 break;
							 }
					case 15:{
							 mapElemDimension=10;
							 break;
							 }
					case 10:{
							 mapElemDimension=6;
							 break;
							 }
					case 6:{
							 return false;
							 }							
			}
			return true;
		} 		
		
	]]></script>
	<script type="text/ecmascript" xlink:href="Point2D.js"/>
	<script type="text/ecmascript" xlink:href="SVGElement.js"/>
	<!-- script added for the menu-->
	<script type="text/ecmascript" xlink:href="MapEventProcessor.js"/>
	<script type="text/ecmascript" xlink:href="Link.js"/>
	<script type="text/ecmascript" xlink:href="Semaphore.js"/>
	<script type="text/ecmascript" xlink:href="Label.js"/>
	<script type="text/ecmascript" xlink:href="MapElement.js"/>
	<script type="text/ecmascript" xlink:href="Map.js"/>
	<script type="text/ecmascript" xlink:href="MapElemPositioning.js"/>
	<script type="text/ecmascript" xlink:href="ApplicationMap.js"/>
	<script type="text/ecmascript" xlink:href="menu.js"/>
	<script type="text/ecmascript" xlink:href="pick_color.js"/>
	<script type="text/ecmascript" xlink:href="zoom_pan.js"/>	
	<!--scripts added for selection-lists -->
	<script type="text/ecmascript" xlink:href="selectionBox/selectionList.js"/>
	<script type="text/ecmascript" xlink:href="selectionBox/Node.js"/>
	<script type="text/ecmascript" xlink:href="selectionBox/ElemMap.js"/>
	<script type="text/ecmascript" xlink:href="selectionBox/helper_functions.js"/>
	
	<!--desc>
		
		Opennms Map Application
	</desc-->

	<!-- ******** M E N U ********* -->	
	<svg id="WorkPanel" width="200" height="250">

	
	// ********* map informations *********
	<text id="MapInfo" display="none" x="3" y="50">Map info
	</text>	
	
	<svg id="history" y="150" x="3" width="150" heigth="100">
	    <g id="prevGroup" display="none">
		<polygon id="prev" points="0,30 5,27 5,33" style="stroke:grey;fill:blue"/>
		<polygon id="prev" points="6,30 11,27 11,33" style="stroke:grey;fill:blue"/>
		<text id="prevMapName" x='13' y='33' style='font-size:10;fill:grey'></text>
		<rect  style="cursor:pointer" id="prevAction"  x="0" y="25" rx="2" ry="2" width="14" height="10" opacity="0"/>
	    </g>
	    
	    <g id="nextGroup" display="none">
		<polygon id="next" points="0,37 0,43 5,40" style="stroke:grey;fill:blue"/>
		<polygon id="next" points="6,37 6,43 11,40" style="stroke:grey;fill:blue"/>
		<text id="nextMapName" x='13' y='43' style='font-size:10;fill:grey'></text>
		<rect  style="cursor:pointer" id="nextAction"  x="0" y="35" rx="2" ry="2" width="14" height="10" opacity="0"/>
	    </g>	    
	    
	</svg>	


	<rect x="0" y="0" id="toolbar" width="100%" height="20px" fill="black" />

	<!-- ***** Map submenu ******-->
	<g id="MapMenu" display="none" >
	 <rect id="mapRect" x="0" y="0" width="50" height="20" stroke="blue" fill="black" stroke-width="1" /> 
	 <text id="mapText" x="8" y="13" fill="white" font-size="11">Map</text> 
	 <rect onmouseover="openMapMenu(evt); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'mapRect',upColor)" onclick="setMenuOpenFlag(evt, 'Map');" x="0" y="0" width="50" height="20" style="fill:green;fill-opacity:0"/>
	</g>
	<g id="MapChoices" display="none" onmouseover="elemColor(evt,'mapRect',downColor)" onmouseout="elemColor(evt,'mapRect',upColor)">
		<g id="newMapGroup"  > 
		 <rect id="New" x="0" y="21" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="newText" x="10" y="34" fill="white" font-size="10">New</text> 
		 <rect onmouseover="elemColor(evt,'New',downColor); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'New',upColor)" onclick="newMap();hideAll(evt);menuOpenFlag=false;" x="0" y="21" width="100" height="20" style="fill:green;fill-opacity:0"/>
		</g>	
		
		<g id="openMapGroup" > 
		 <rect id="Open" x="0" y="41" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="openText" x="10" y="54" fill="white" font-size="10">Open</text> 
		 <rect x="0" y="41" width="100" height="20" onmouseover="elemColor(evt,'Open',downColor); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup');  elemHide(evt,'colorNodesBySeverityGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'Open',upColor)" onclick="addMapsList();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g>		

		<g id="renameMapGroup"> 
		 <rect id="Rename" x="0" y="61" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="renameText" x="10" y="74" fill="white" font-size="10">Rename</text> 
		 <rect  x="0" y="61" width="100" height="20" onmouseover="elemColor(evt,'Rename',downColor); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'Rename',upColor)" onclick="addRenameMapBox(); hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g>	
		
		<g id="deleteMapGroup" > 
		 <rect id="Delete" x="0" y="81" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="deleteText" x="10" y="94" fill="white" font-size="10">Delete</text> 
		 <rect x="0" y="81" width="100" height="20"  onmouseover="elemColor(evt,'Delete',downColor); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'Delete',upColor)" onclick="deleteMap();hideAll(evt);menuOpenFlag=false;clearTopInfo();clearDownInfo();" style="fill:green;fill-opacity:0"/>
		</g>

		<g id="saveMapGroup"  > 
		 <rect id="Save" x="0" y="101" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="saveText" x="10" y="114" fill="white" font-size="10">Save</text> 
		 <rect x="0" y="101" width="100" height="20" onmouseover="elemColor(evt,'Save',downColor); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'Save',upColor)" onclick="saveMap();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g> 

		<g id="clearMapGroup" > 
		 <rect id="Clear" x="0" y="121" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="clearText" x="10" y="134" fill="white" font-size="10">Clear</text> 
		 <rect x="0" y="121" width="100" height="20"  onmouseover="elemColor(evt,'Clear',downColor); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup');  elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'Clear',upColor)" onclick="clearMap();hideAll(evt);menuOpenFlag=false;clearTopInfo();clearDownInfo();" style="fill:green;fill-opacity:0"/>
		</g>

		
		<g id="closeMapGroup"  >  
		 <rect id="Close" x="0" y="161" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="closeText" x="10" y="174" fill="white" font-size="10">Close</text> 
		 <rect x="0" y="161" width="100" height="20" onmouseover="elemColor(evt,'Close',downColor); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup');  elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'Close',upColor)" onclick="close();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g> 
		
		<g id="setBackgroundMapGroup" > 
		 <rect id="setBackground" x="0" y="141" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="backgroundText" x="10" y="154" fill="white" font-size="10">Set Background...</text> 
		 <rect x="0" y="141" width="100" height="20" onmouseover=" elemHide(evt,'colorNodesBySeverityGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemColor(evt,'setBackground',downColor); elemShow(evt,'setBackgroundMapColorGroup'); elemShow(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'setBackground',upColor); " style="fill:green;fill-opacity:0"/>
			<g id="setBackgroundMapColorGroup" display="none"> 
			 <rect id="setBackgroundColor" x="96" y="140" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
			 <text id="backgroundColorText" x="103" y="153" fill="white" font-size="10">Color</text> 
			 <rect x="96" y="140" width="100" height="20"  onmouseover="elemColor(evt,'setBackgroundColor',downColor)" onmouseout="elemColor(evt,'setBackgroundColor',upColor)" onclick="setBackground(0);  hideAll(evt);menuOpenFlag=false;clearTopInfo();clearDownInfo();" style="fill:green;fill-opacity:0"/>
			</g>
			<g id="setBackgroundMapImageGroup" display="none"> 
			 <rect id="setBackgroundImage" x="96" y="160" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
			 <text id="backgroundImageText" x="103" y="173" fill="white" font-size="10">Image</text> 
			 <rect x="96" y="160" width="100" height="20"  onmouseover="elemColor(evt,'setBackgroundImage',downColor)" onmouseout="elemColor(evt,'setBackgroundImage',upColor)" onclick="addBGImagesList();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
			</g>			
		</g>
	</g>
	
	
	<!-- ***** Node submenu ******-->
	<g id="NodeMenu" display="none" >
	 <rect id="nodeRect" x="51" y="0" width="50" height="20" stroke="blue" fill="black" stroke-width="1" /> 
	 <text id="nodeText" x="58" y="13" fill="white" font-size="11">Node</text> 
	 <rect x="51" y="0" width="50" height="20" onmouseover="openNodeMenu(evt); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'nodeRect',upColor)" onclick="setMenuOpenFlag(evt, 'Node')" style="fill:green;fill-opacity:0"/>
	</g>
	<g id="NodeChoices" display="none" >
		<g id="addNodeGroup"  onmouseover="elemColor(evt,'Add',downColor)" onmouseout="elemColor(evt,'Add',upColor)" onclick="addMapElementList();hideAll(evt);menuOpenFlag=false;"> 
		 <rect id="Add" x="51" y="21" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="addText" x="58" y="34" fill="white" font-size="10">Add</text> 
		 <rect x="51" y="21" width="100" height="20"  onmouseover="elemColor(evt,'nodeRect',downColor)" onmouseout="elemColor(evt,'nodeRect',upColor)" style="fill:green;fill-opacity:0"/>
		</g> 
		<g id="addNodeRangeGroup"  onmouseover="elemColor(evt,'AddNodeRange',downColor)" onmouseout="elemColor(evt,'AddNodeRange',upColor)" onclick="addRangeBox();hideAll(evt);menuOpenFlag=false;"> 
		 <rect id="AddNodeRange" x="51" y="41" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="addNodeRangeText" x="58" y="54" fill="white" font-size="10">Add Node Range</text> 
		 <rect x="51" y="41" width="100" height="20"  onmouseover="elemColor(evt,'nodeRect',downColor)" onmouseout="elemColor(evt,'nodeRect',upColor)" style="fill:green;fill-opacity:0"/>
		</g>		
		<g id="addNeighGroup"> 
		 <rect id="AddNeigh" x="51" y="61" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="addNeighText" x="58" y="74" fill="white" font-size="10">Add Neighbors</text> 
		 <rect  x="51" y="61" width="100" height="20" onmouseover="elemColor(evt,'AddNeigh',downColor)" onmouseout="elemColor(evt,'AddNeigh',upColor)"  onclick="addMapElementNeigh(); hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g> 		
		<g id="addNodeNeighGroup" > 
		 <rect id="AddNodeNeigh" x="51" y="81" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="addNodeNeighText" x="58" y="94" fill="white" font-size="10">Add with Neighbors</text> 
		 <rect  x="51" y="81" width="100" height="20" onmouseover="elemColor(evt,'AddNodeNeigh',downColor)" onmouseout="elemColor(evt,'AddNodeNeigh',upColor)"  onclick="addMapElementNeighList();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g> 
		<g id="addMapGroup" > 
		 <rect id="AddMap" x="51" y="101" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="addMapText" x="58" y="114" fill="white" font-size="10">Add Map as Node</text> 
		 <rect  x="51" y="101" width="100" height="20" onmouseover="elemColor(evt,'AddMap',downColor)" onmouseout="elemColor(evt,'AddMap',upColor)"  onclick="addMapAsNodeList();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g>	
		
		<g id="setIconGroup"  > 
		 <rect id="SetIcon" x="51" y="121" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="setIconText" x="58" y="134" fill="white" font-size="10">Set Icon</text> 
		 <rect  x="51" y="121" width="100" height="20" onmouseover="elemColor(evt,'SetIcon',downColor)" onmouseout="elemColor(evt,'SetIcon',upColor)" onclick="addIconList();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g> 
		
		<g id="setDimensionGroup"  > 
		 <rect id="SetDimension" x="51" y="141" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="setDimensionText" x="58" y="154" fill="white" font-size="10">Set Dimension</text> 
		 <rect  x="51" y="141" width="100" height="20" onmouseover="elemColor(evt,'SetDimension',downColor)" onmouseout="elemColor(evt,'SetDimension',upColor)" onclick="addDimensionList();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g> 
		
		<g id="deleteNodeGroup"  > 
		 <rect id="DeleteNode" x="51" y="161" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="deleteNodeText" x="58" y="174" fill="white" font-size="10">Delete</text> 
		 <rect  x="51" y="161" width="100" height="20" onmouseover="elemColor(evt,'DeleteNode',downColor)" onmouseout="elemColor(evt,'DeleteNode',upColor)" onclick="deleteMapElementMenu();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
		</g> 
	</g>
	
	<!-- ***** View submenu ******-->
	<g id="ViewMenu" display="inline" >
	 <rect id="viewRect" x="101" y="0" width="50" height="20" stroke="blue" fill="black" stroke-width="1" /> 
	 <text id="viewText" x="109" y="13" fill="white" font-size="11">View</text> 
	 <rect onmouseover="openViewMenu(evt); elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'colorNodesBySeverityGroup'); elemHide(evt,'colorNodesByStatusGroup');elemHide(evt,'colorNodesByAvailGroup'); elemHide(evt,'setBackgroundMapImageGroup')" onmouseout="elemColor(evt,'viewRect',upColor)" onclick="setMenuOpenFlag(evt, 'View');" x="100" y="0" width="50" height="20" style="fill:green;fill-opacity:0"/>
	</g>	
	<g id="ViewChoices" display="none" >
		<g id="colorNodesByGroup" > 
		 <rect id="colorNodes" x="100" y="21" width="100" height="20" stroke="blue" fill="black" stroke-width="1" /> 
		 <text id="colorNodesText" x="110" y="34" fill="white" font-size="10">View by...</text> 
		 <rect x="101" y="21" width="100" height="20" onmouseover="elemHide(evt,'setBackgroundMapColorGroup'); elemHide(evt,'setBackgroundMapImageGroup');  elemColor(evt,'colorNodes',downColor); elemShow(evt,'colorNodesByStatusGroup'); elemShow(evt,'colorNodesBySeverityGroup'); elemShow(evt,'colorNodesByAvailGroup')" onmouseout="elemColor(evt,'colorNodes',upColor); " style="fill:green;fill-opacity:0"/>
			<g id="colorNodesBySeverityGroup" display="none"> 
			 <rect id="colorNodesBySeverity" x="10" y="21" width="95" height="20" stroke="blue" fill="black" stroke-width="1" /> 
			 <text id="colorNodesBySeverityText" x="17" y="34" fill="white" font-size="10">Severity</text> 
			 <rect x="10" y="21" width="95" height="20"  onmouseover="elemColor(evt,'colorNodesBySeverity',downColor)" onmouseout="elemColor(evt,'colorNodesBySeverity',upColor)" onclick="colorSemaphoreBy='S';refreshMapElements(); addLegend();hideAll(evt);menuOpenFlag=false;clearTopInfo();clearDownInfo();" style="fill:green;fill-opacity:0"/>
			</g>
			<g id="colorNodesByAvailGroup" display="none"> 
			 <rect id="colorNodesByAvail" x="10" y="41" width="95" height="20" stroke="blue" fill="black" stroke-width="1" /> 
			 <text id="colorNodesByAvailText" x="17" y="54" fill="white" font-size="10">Availability</text> 
			 <rect x="10" y="41" width="95" height="20"  onmouseover="elemColor(evt,'colorNodesByAvail',downColor)" onmouseout="elemColor(evt,'colorNodesByAvail',upColor)" onclick="colorSemaphoreBy='A';refreshMapElements(); addLegend();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
			</g>			
			<g id="colorNodesByStatusGroup" display="none"> 
			 <rect id="colorNodesByStatus" x="10" y="61" width="95" height="20" stroke="blue" fill="black" stroke-width="1" /> 
			 <text id="colorNodesByStatusText" x="17" y="74" fill="white" font-size="10">Status</text> 
			 <rect x="10" y="61" width="95" height="20"  onmouseover="elemColor(evt,'colorNodesByStatus',downColor)" onmouseout="elemColor(evt,'colorNodesByStatus',upColor)" onclick="colorSemaphoreBy='T';refreshMapElements(); addLegend();hideAll(evt);menuOpenFlag=false;" style="fill:green;fill-opacity:0"/>
			</g>			
		</g>
	</g>
	
	
	
	<!-- ******** end   M E N U ********* -->	
    </svg>
    
    	<svg  y="190" width="200" height="200" id="TopInfo">
		<text id="TopInfoText" x="5" y="20"></text>
		<g id="nodes" />
		<g id="maps" />
		<g id="bgimages" />
		<g id="mapelemdim" />
		<g id="meicons" />
	</svg>
	<svg  y="300" width="200" height="100" id="DownInfo">
		<text id="DownInfoText" x="5" y="20"></text>

	</svg>	


	<svg>
		<g id="LoadingText" x="40%" y="50%" display="none">
		<rect  x="40%" y="40%" fill="white" stroke="white" width="60" height="20"  />
		<text  x="40%" y="40%">
		<tspan    dx="3" dy="13">Loading...
		</tspan>
		</text>
		</g>
	</svg>

	<svg>
		<g id="RefreshingText" x="40%" y="50%"  display="none">
		<rect  x="40%" y="40%" fill="white" stroke="white" width="75" height="20"  />
		<text  x="40%" y="40%">
		<tspan    dx="3" dy="13">Refreshing...
		</tspan>
		</text>
		</g>
	</svg>	
	
	<!-- svg for changing the background color of the map -->

	<svg   y="180" x="20">
	    <g id="pickColor" />

	</svg>

	<svg   id="legend" y="75%"  width="130" height="130"/>

	<svg id="zoom_pan" y="75%" x="110" width="100" heigth="100">
		<g id="zoom_out" onclick='zoom(0.5);' style="cursor:pointer">
		   <line x1="9" y1="10" x2="1" y2="30" style="stroke:grey;stroke-width:2;"/>
		   <circle style="fill:white;stroke:grey;stroke-width:2;" r="8" cx="9" cy="10"/>
		   <line x1="5" y1="10" x2="13" y2="10" style="stroke:grey;stroke-width:2;"/>
		</g>

		<g id="zoom_in" onclick='zoom(2)' style="cursor:pointer">
		   <line x1="30" y1="10" x2="22" y2="30" style="stroke:grey;stroke-width:2;"/>
		   <circle style="fill:white;stroke:grey;stroke-width:2;" r="8" cx="30" cy="10"/>
		   <line x1="26" y1="10" x2="34" y2="10" style="stroke:grey;stroke-width:2;"/>
		   <line x1="30" y1="6" x2="30" y2="14" style="stroke:grey;stroke-width:2;"/>
		</g>
		<polygon id="pan_up" onclick='pan(0,-1)' points="40,35 30,45 50,45" style="stroke:grey;fill:grey;cursor:pointer"/>
		<polygon id="pan_left" onclick='pan(-1,0)' points="15,60 25,50 25,70" style="stroke:grey;fill:grey;cursor:pointer"/>
		<polygon id="pan_right" onclick='pan(1,0)' points="55,50 65,60 55,70" style="stroke:grey;fill:grey;cursor:pointer"/>
		<polygon id="pan_down" onclick='pan(0,1)' points="30,75 40,85 50,75" style="stroke:grey;fill:grey;cursor:pointer"/>
		<text x='41' y='20' style='font-size:13;fill:grey;'>Reset</text>
		<rect style="cursor:pointer" onclick='reset()'  x="41" y="5" rx="2" ry="2" width="34" height="17" opacity="0"/>
	</svg>
	<svg y="450" width="200" height="100" >
		<g>
		<text id="coordinate" x="1" y="10"/>
		</g>
	</svg>

	
	
     </svg>


