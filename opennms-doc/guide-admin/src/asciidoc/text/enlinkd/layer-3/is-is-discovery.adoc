
// Allow GitHub image rendering
:imagesdir: ../../../images

==== IS-IS Discovery

_IS-IS Links_ are found walking the _isisISAdjTable_ that is defined in _ISIS-MIB_ (mib-rfc4444.txt) in standard mibs under Juniper junos supported Mib tree.
In this table you got the information you need to find the Adjency Intermediate System.
The information about Is-Is is stored into two tables: isisElement and isisLink.
isisElement contains the ISISSysID a unique identifier of the "Intermediate System" (that is the name for the Router in iso protocols).
Each entry in this table (snmp) represents a link, let me say, a one direction link from the Intermediate system that is queried to the Adj Intermediate systems running IS-IS and "let me say" peering with the source router.
If two routers let me say IS-A and IS-B support ISIS-MIB you will find two entries in opennms, one that is the direction from IS-A to IS-B get walking IS-A adjTable and the way back from IS-B to IS-A.
get walking IS-B adjTable
Here you find the definition of the tables in our database:

.Supported OIDs from ISIS-MIB
[options="header, autowidth"]
|===
| Name                         | OID                          | Description
| _isisSysID_                  | `.1.3.6.1.2.1.138.1.1.1.3.0` | The ID for this Intermediate System.
                                                                This value is appended to each of the area addresses to form the Network Entity Titles.
                                                                The derivation of a value for this object is implementation specific.
                                                                Some implementations may automatically assign values and not permit an SNMP write, while others may require the value to be set manually.
                                                                Configured values *must* survive an agent reboot.
| _isisSysAdminState_          | `.1.3.6.1.2.1.138.1.1.1.8.0` | The administrative state of this Intermediate System.
                                                                Setting this object to the value `on` when its current value is `off` enables the Intermediate System.
                                                                Configured values *must* survive an agent reboot.
| _isisSysObject_              | `.1.3.6.1.2.1.138.1.1.1`     | isisSysObject
| _isisCircIfIndex_            | `.1.3.6.1.2.1.138.1.3.2.1.2` | The value of ifIndex for the interface to which this circuit corresponds.
                                                                This object cannot be modified after creation.
| _isisCircAdminState_         | `.1.3.6.1.2.1.138.1.3.2.1.3` | The administrative state of the circuit.
| _isisISAdjState_             | `.1.3.6.1.2.1.138.1.6.1.1.2` | The state of the adjacency.
| _isisISAdjNeighSNPAAddress_  | `.1.3.6.1.2.1.138.1.6.1.1.4` | The _SNPA address_ of the neighboring system.
| _isisISAdjNeighSysType_      | `.1.3.6.1.2.1.138.1.6.1.1.5` | The type of the neighboring system.
| _isisISAdjNeighSysID_        | `.1.3.6.1.2.1.138.1.6.1.1.6` | The system ID of the neighboring Intermediate System.
| _isisISAdjNbrExtendedCircID_ | `.1.3.6.1.2.1.138.1.6.1.1.7` | The 4-byte _Extended Circuit ID_ learned from the Neighbor during 3-way handshake, or _0_.
|===

Generic information about the _IS-IS_ link discovery process can be found in the _IS-IS Information_ box on the _Node Detail Page_ of the device.
Information gathered from this OIDs will be stored in the following database table:

.Database tables related to IS-IS discovery
image::enlinkd/is-is-database.png[]
