<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <parent>
    <artifactId>opennms</artifactId>
    <groupId>org.opennms</groupId>
    <version>22.0.0-SNAPSHOT</version>
  </parent>
  <modelVersion>4.0.0</modelVersion>
  <artifactId>opennms-dao</artifactId>
  <name>OpenNMS :: Model :: DAO :: Impl</name>
  <packaging>bundle</packaging>
  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-eclipse-plugin</artifactId>
        <configuration>
          <additionalBuildcommands>
            <buildcommand>org.springframework.ide.eclipse.core.springbuilder</buildcommand>
          </additionalBuildcommands>
          <additionalProjectnatures>
            <projectnature>org.springframework.ide.eclipse.core.springnature</projectnature>
          </additionalProjectnatures>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.felix</groupId>
        <artifactId>maven-bundle-plugin</artifactId>
        <extensions>true</extensions>
        <configuration>
          <instructions>
            <Bundle-RequiredExecutionEnvironment>JavaSE-1.8</Bundle-RequiredExecutionEnvironment>
            <Bundle-SymbolicName>${project.artifactId}</Bundle-SymbolicName>
            <Bundle-Version>${project.version}</Bundle-Version>
            <Import-Package>
              javassist.util.proxy,
              javax.sql,
              org.hibernate.proxy,

              <!-- From mvn:org.hibernate/hibernate-validator -->
              org.hibernate.validator,
              org.hibernate.validator.constraints,
              org.hibernate.validator.messageinterpolation,
              org.hibernate.validator.resourceloading,

              <!-- From mvn:org.hibernate/hibernate-validator-annotation-processor -->
              org.hibernate.validator.ap,
              org.hibernate.validator.ap.checks,
              org.hibernate.validator.ap.util,

              <!-- From mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aopalliance -->
              org.aopalliance.aop,

              <!-- From mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.spring-aop -->
              org.springframework.aop;version="[4.2,4.3)",
              org.springframework.aop.aspectj;version="[4.2,4.3)",
              org.springframework.aop.aspectj.annotation;version="[4.2,4.3)",
              org.springframework.aop.aspectj.autoproxy;version="[4.2,4.3)",
              org.springframework.aop.config;version="[4.2,4.3)",
              org.springframework.aop.framework;version="[4.2,4.3)",
              org.springframework.aop.framework.adapter;version="[4.2,4.3)",
              org.springframework.aop.framework.autoproxy;version="[4.2,4.3)",
              org.springframework.aop.framework.autoproxy.target;version="[4.2,4.3)",
              org.springframework.aop.interceptor;version="[4.2,4.3)",
              org.springframework.aop.scope;version="[4.2,4.3)",
              org.springframework.aop.support;version="[4.2,4.3)",
              org.springframework.aop.target;version="[4.2,4.3)",

              <!-- From mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.spring-context -->
              org.springframework.cache.annotation;version="[4.2,4.3)",

              <!-- Required for Spring annotation scanning -->
              org.springframework.context.annotation;version="[4.2,4.3)",
              javax.xml.bind.annotation,
              javax.xml.bind.annotation.adapters,
              org.hibernate.annotations,
              org.codehaus.jackson.annotate,
              org.codehaus.jackson.map.annotate,

              <!-- OpenNMS dependencies -->
              org.opennms.core.utils,
              org.opennms.netmgt.poller,
              org.opennms.netmgt.collection.persistence.rrd,
              <!-- Needed by resourceDao for org.opennms.protocols.xml.collector.XmlStorageStrategy -->
              org.opennms.protocols.xml.collector,
              !${org.opennms.rrd.strategyClass},

              *
            </Import-Package>

            <!-- Launch the Spring contexts when this bundle is loaded in OSGi -->
            <Spring-Context>
              META-INF/opennms/applicationContext-dao.xml,
              META-INF/opennms/applicationContext-dao-osgi.xml
            </Spring-Context>
          </instructions>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <dependencies>
    <!-- OpenNMS dependencies, sorted by groupId, artifactId -->
    <dependency>
      <groupId>org.opennms.core.test-api</groupId>
      <artifactId>org.opennms.core.test-api.db</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.opennms.core.test-api</groupId>
      <artifactId>org.opennms.core.test-api.services</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.opennms</groupId>
      <artifactId>opennms-config-api</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms.core</groupId>
      <artifactId>org.opennms.core.soa</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms.dependencies</groupId>
      <artifactId>hibernate-dependencies</artifactId>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.opennms.dependencies</groupId>
      <artifactId>atomikos-dependencies</artifactId>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.opennms.core</groupId>
      <artifactId>org.opennms.core.xml</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms</groupId>
      <artifactId>opennms-dao-api</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms</groupId>
      <artifactId>opennms-model</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms.core</groupId>
      <artifactId>org.opennms.core.criteria</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms</groupId>
      <artifactId>opennms-rrd-api</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms.features.measurements</groupId>
      <artifactId>org.opennms.features.measurements.api</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms.features.collection</groupId>
      <artifactId>org.opennms.features.collection.api</artifactId>
    </dependency>
    <dependency>
      <groupId>org.opennms.features.collection</groupId>
      <artifactId>org.opennms.features.collection.core</artifactId>
      <scope>runtime</scope>
    </dependency>
    <dependency>
      <groupId>org.opennms</groupId>
      <artifactId>opennms-rrd-jrobin</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.opennms.dependencies</groupId>
      <artifactId>jrrd2-dependencies</artifactId>
      <scope>test</scope>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>org.opennms.features.collection</groupId>
      <artifactId>org.opennms.features.collection.persistence.rrd</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.opennms.dependencies</groupId>
      <artifactId>spring-dependencies</artifactId>
      <type>pom</type>
    </dependency>
    <!-- for validating marshalled events -->
    <dependency>
      <groupId>org.opennms</groupId>
      <artifactId>opennms-model</artifactId>
      <classifier>xsds</classifier>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.opennms</groupId>
      <artifactId>opennms-util</artifactId>
    </dependency>
    <!-- Non-OpenNMS dependencies, sorted by groupId, artifactId -->
    <dependency>
      <groupId>commons-beanutils</groupId>
      <artifactId>commons-beanutils-core</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>commons-io</groupId>
      <artifactId>commons-io</artifactId>
    </dependency>
    <dependency>
      <groupId>commons-lang</groupId>
      <artifactId>commons-lang</artifactId>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>jcl-over-slf4j</artifactId>
    </dependency>
    <dependency>
      <groupId>org.hibernate.javax.persistence</groupId>
      <artifactId>hibernate-jpa-2.0-api</artifactId>
    </dependency>
    <dependency>
      <groupId>org.easymock</groupId>
      <artifactId>easymock</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.postgresql</groupId>
      <artifactId>postgresql</artifactId>
      <scope>runtime</scope>
    </dependency>
    <dependency>
      <groupId>org.opennms.dependencies</groupId>
      <artifactId>dnsjava-dependencies</artifactId>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>com.google.guava</groupId>
      <artifactId>guava</artifactId>
    </dependency>
    <dependency>
      <groupId>org.hamcrest</groupId>
      <artifactId>hamcrest-library</artifactId>
      <scope>test</scope>
    </dependency>
  </dependencies>
</project>
